{"version":3,"file":"static/js/564.2674096c.chunk.js","mappings":"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","sources":["client/components/login/login.jsx","client/Pages/LoginPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Field, Form } from \"react-final-form\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { AlertDismissible, InputField } from \"common/components\";\r\nimport loginBanner from \"../../assets/images/login-banner.png\";\r\nimport AuthService from \"../../services/auth.service\";\r\n\r\nconst LoginContainer = (props) => {\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const location = useLocation();\r\n  console.log(`LoginContainer :: location: ${JSON.stringify(location)}`);\r\n  console.log(`LoginContainer :: props: ${JSON.stringify(props)}`);\r\n  console.log(`LoginContainer :: doctorData: ${location?.state?.doctorData}`);\r\n  console.log(`LoginContainer :: history: ${location?.state?.history}`);\r\n  // localStorage.removeItem(\"user\");\r\n  const required = `Required`;\r\n  const [message, setMessage] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const [state, setState] = useState({\r\n    ...location?.state,\r\n    isLoggedIn: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.body.classList.add(\"account-page\");\r\n    return () => {\r\n      document.body.classList.remove(\"account-page\");\r\n    };\r\n  }, []);\r\n\r\n  const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n  const validate = async (values) => {\r\n    const errors = {};\r\n    if (!values.email) {\r\n      errors.email = required;\r\n    }\r\n    if (!values.password) {\r\n      errors.password = required;\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = async (values) => {\r\n    setIsLoading(true);\r\n    // await sleep(1500);\r\n    console.log(`onSubmit :: ${JSON.stringify(values, 0, 2)}`);\r\n\r\n    const response = await AuthService.login(values.email, values.password);\r\n    setMessage(!!response.message && response.message);\r\n    setIsLoading(!!response.success && response.success);\r\n    // setIsLoading(false);\r\n\r\n    if (!response.success) return;\r\n\r\n    if (response?.body?.status && response?.body?.status === \"active\") {\r\n      if (response?.body?.accessToken) {\r\n        localStorage.setItem(\"user\", JSON.stringify(response?.body));\r\n      }\r\n\r\n      const history =\r\n        location?.state?.history === \"/treatments\"\r\n          ? \"/treatments-summary\"\r\n          : location?.state?.history || \"/en/account-profile\";\r\n\r\n      props.setIsLoggedIn(true);\r\n      navigate(history, {\r\n        state: {\r\n          ...location?.state,\r\n          isLoggedIn: true,\r\n          prevPath: location.pathname,\r\n        },\r\n      });\r\n    } else {\r\n      setMessage([\r\n        \"Your account needs activation, please contact info@yourmedicalportal.com\",\r\n      ]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"container-fluid\">\r\n        {!!location?.state?.doctorData ? (\r\n          <div className=\"col-md-5 col-lg-4 theiaStickySidebar\">\r\n            {/* Booking Summary */}\r\n            <div className=\"card booking-card\">\r\n              <div className=\"card-header\">\r\n                <h4 className=\"card-title\">Booking Summary</h4>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"booking-doc-info\">\r\n                  <img\r\n                    src={location?.state?.doctorData?.image}\r\n                    className=\"booking-doc-img\"\r\n                    alt=\"Doctor\"\r\n                  />\r\n                  <div className=\"booking-info\">\r\n                    <h4>{location?.state?.doctorData?.doc_name}</h4>\r\n                    <div className=\"clinic-details\">\r\n                      <p className=\"doc-location\">\r\n                        <i className=\"fas fa-map-marker-alt\"></i>{\" \"}\r\n                        {location?.state?.doctorData?.address}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"booking-summary\">\r\n                  <div className=\"booking-item-wrap\">\r\n                    <ul className=\"booking-date p-2\">\r\n                      <li>\r\n                        Approximate Date{\" \"}\r\n                        <span>\r\n                          {location?.state?.doctorData?.appointmentDate}\r\n                        </span>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* Booking Summary */}\r\n          </div>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 offset-md-2\">\r\n            <div className=\"account-content\">\r\n              {location?.state?.preStatus &&\r\n              location?.state?.preStatus === \"success\" ? (\r\n                <AlertDismissible\r\n                  type={location?.state?.preStatus}\r\n                  boldMsg={`${location?.state?.loginBoldMsg}`}\r\n                  msg={location?.state?.loginMsg}\r\n                />\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <div className=\"row align-items-center justify-content-center\">\r\n                <div className=\"col-md-7 col-lg-6 login-left\">\r\n                  <img\r\n                    src={loginBanner}\r\n                    className=\"img-fluid\"\r\n                    alt=\"Your Medical Portal Login\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-12 col-lg-6 login-right\">\r\n                  <div className=\"login-header\">\r\n                    <h3>Login to Your Medical Portal</h3>\r\n                  </div>\r\n                  <Form\r\n                    validate={validate}\r\n                    onSubmit={onSubmit}\r\n                    // initialValues={{ doctorData }}\r\n                    render={({\r\n                      handleSubmit,\r\n                      submitError,\r\n                      form,\r\n                      submitting,\r\n                      pristine,\r\n                      values,\r\n                    }) => (\r\n                      <form\r\n                        onSubmit={handleSubmit}\r\n                        className=\"needs-validation\"\r\n                        noValidate\r\n                      >\r\n                        <div className=\"invalid-feedback d-block mb-2\">\r\n                          {message}\r\n                        </div>\r\n                        <div\r\n                          className={`form-group form-focus mt-4 ${\r\n                            values?.email?.length > 0 ? \"focused\" : \"\"\r\n                          }`}\r\n                        >\r\n                          <Field\r\n                            name=\"email\"\r\n                            className=\"form-control floating\"\r\n                            label=\"Email\"\r\n                            type=\"text\"\r\n                            label_type=\"focus_label\"\r\n                            component={InputField}\r\n                          />\r\n                        </div>\r\n                        <div\r\n                          className={`form-group form-focus mt-4 ${\r\n                            values?.password?.length > 0 ? \"focused\" : \"\"\r\n                          }`}\r\n                        >\r\n                          <Field\r\n                            name=\"password\"\r\n                            className=\"form-control floating\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            label_type=\"focus_label\"\r\n                            component={InputField}\r\n                          />\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <Link to=\"/forgot-password\" className=\"forgot-link\">\r\n                            Forgot Password ?\r\n                          </Link>\r\n                        </div>\r\n                        <button\r\n                          className=\"btn btn-primary btn-block btn-lg login-btn mt-5\"\r\n                          type=\"submit\"\r\n                          disabled={isLoading}\r\n                        >\r\n                          {!isLoading ? `Login` : \"\"}\r\n                          {isLoading && (\r\n                            <span className=\"spinner-border spinner-border-sm mb-1\"></span>\r\n                          )}\r\n                        </button>\r\n                        {/* Social Medica Login */}\r\n                        {/* <div className=\"login-or\">\r\n                      <span className=\"or-line\"></span>\r\n                      <span className=\"span-or\">or</span>\r\n                    </div>\r\n                    <div className=\"row form-row social-login\">\r\n                      <div className=\"col-6\">\r\n                        <a href=\"#0\" className=\"btn btn-facebook btn-block\">\r\n                          <i className=\"fab fa-facebook-f mr-1\"></i>Login\r\n                        </a>\r\n                      </div>\r\n                      <div className=\"col-6\">\r\n                        <a href=\"#0\" className=\"btn btn-google btn-block\">\r\n                          <i className=\"fab fa-google mr-1\"></i>Login\r\n                        </a>\r\n                      </div>\r\n                    </div> */}\r\n                        {/* /Social Medica Login */}\r\n                        <div className=\"text-center dont-have\">\r\n                          {`Don’t have an account? `}\r\n                          <Link to=\"/register\">Register</Link>\r\n                        </div>\r\n                      </form>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginContainer;\r\n","import React from \"react\";\r\nimport LoginContainer from \"../components/login/login\";\r\n\r\nfunction LoginPage(props) {\r\n  return <LoginContainer setIsLoggedIn={props.setIsLoggedIn}/>;\r\n}\r\nexport default LoginPage;"],"names":["props","URLSearchParams","window","location","search","useLocation","console","log","JSON","stringify","state","doctorData","history","required","useState","message","setMessage","isLoading","setIsLoading","navigate","useNavigate","isLoggedIn","useEffect","document","body","classList","add","remove","validate","values","errors","email","password","onSubmit","AuthService","response","success","status","accessToken","localStorage","setItem","setIsLoggedIn","prevPath","pathname","className","src","image","alt","doc_name","address","appointmentDate","preStatus","type","boldMsg","loginBoldMsg","msg","loginMsg","loginBanner","render","handleSubmit","submitError","form","submitting","pristine","noValidate","length","name","label","label_type","component","InputField","to","disabled"],"sourceRoot":""}