{"version":3,"file":"static/js/211.2b182435.chunk.js","mappings":"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","sources":["client/components/dashboard/password/index.jsx","client/Pages/ChangePasswordPage.js","client/components/dashboard/sidebar/menuItems.jsx","client/components/dashboard/sidebar/sidebar.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Field, Form } from \"react-final-form\";\r\nimport { AlertDismissible, InputField } from \"common/components\";\r\nimport StickyBox from \"react-sticky-box\";\r\nimport DashboardSidebar from \"../sidebar/sidebar.jsx\";\r\nimport { AuthService, UserService } from \"client/services\";\r\n\r\nconst Password = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [message, setMessage] = useState();\r\n  const [status, setStatus] = useState(false);\r\n\r\n  const validate = async (values) => {\r\n    const errors = {};\r\n    if (!values.oldPassword) {\r\n      errors.oldPassword = \"Required\";\r\n    }\r\n    if (!values.newPassword) {\r\n      errors.newPassword = \"Required\";\r\n    }\r\n    if (!values.confirm) {\r\n      errors.confirm = \"Required\";\r\n    } else if (values.confirm !== values.newPassword) {\r\n      errors.confirm = \"Must match\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = async (values) => {\r\n    setStatus(false);\r\n    setIsLoading(true);\r\n    const response = await AuthService.login(\r\n      AuthService.getCurrentUser().email,\r\n      values.oldPassword\r\n    );\r\n    setMessage(!!response.message && response.message);\r\n    if (!response.success) {\r\n      setIsLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (response.success) {\r\n      const responseChangePassword = await UserService.updateUser({\r\n        password: values.newPassword,\r\n      });\r\n\r\n      if (!responseChangePassword.success) {\r\n        setMessage(\r\n          !!responseChangePassword.message && responseChangePassword.message\r\n        );\r\n      } else setStatus(responseChangePassword.success);\r\n    }\r\n\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"content\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar\">\r\n              <StickyBox offsetTop={20} offsetBottom={20}>\r\n                <DashboardSidebar />\r\n              </StickyBox>\r\n            </div>\r\n\r\n            <div className=\"col-md-7 col-lg-8 col-xl-9\">\r\n              {status ? (\r\n                <AlertDismissible\r\n                  type={\"success\"}\r\n                  boldMsg={\"Success!\"}\r\n                  msg={\"Password has been changed successfully!\"}\r\n                />\r\n              ) : (\r\n                \"\"\r\n              )}\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <Form\r\n                    validate={validate}\r\n                    onSubmit={onSubmit}\r\n                    render={({\r\n                      handleSubmit,\r\n                      submitError,\r\n                      form,\r\n                      submitting,\r\n                      pristine,\r\n                      values,\r\n                      reset\r\n                    }) => (\r\n                      <form\r\n                        onSubmit={(event) => {\r\n                          handleSubmit(event).then(reset);\r\n                        }}\r\n                        className=\"needs-validation\"\r\n                        noValidate\r\n                      >\r\n                        {message?.map((m, i) => (\r\n                          <div\r\n                            key={i}\r\n                            className=\"invalid-feedback d-block mb-2\"\r\n                          >\r\n                            {m}\r\n                          </div>\r\n                        ))}\r\n                        <div className=\"form-group\">\r\n                          <label>Old Password</label>\r\n                          <Field\r\n                            name=\"oldPassword\"\r\n                            className=\"form-control floating\"\r\n                            type=\"password\"\r\n                            component={InputField}\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>New Password</label>\r\n                          <Field\r\n                            name=\"newPassword\"\r\n                            className=\"form-control floating\"\r\n                            type=\"password\"\r\n                            component={InputField}\r\n                          />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                          <label>Confirm Password</label>\r\n                          <Field\r\n                            name=\"confirm\"\r\n                            className=\"form-control floating\"\r\n                            type=\"password\"\r\n                            component={InputField}\r\n                          />\r\n                        </div>\r\n                        <div className=\"submit-section\">\r\n                          <button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-primary submit-btn\"\r\n                            disabled={isLoading}\r\n                          >\r\n                            {!isLoading ? `Save Changes` : \"\"}\r\n                            {isLoading && (\r\n                              <span className=\"spinner-border spinner-border-sm mb-1\"></span>\r\n                            )}\r\n                          </button>\r\n                        </div>\r\n                      </form>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Password;\r\n","import React from \"react\";\r\nimport Password from \"../components/dashboard/password\";\r\n\r\nfunction ChangePasswordPage() {\r\n  return <Password />;\r\n}\r\nexport default ChangePasswordPage;","import { useTranslation } from \"react-i18next\";\r\nexport const adminMenuItems = (t, customActions = {}) => [\r\n  {\r\n    path: \"/en/account-profile\",\r\n    icon: \"fas fa-user-cog\",\r\n    label: t(\"ProfileSettings\"),\r\n    role: \"all\",\r\n  },\r\n  {\r\n    path: \"/en/account-appointments\",\r\n    icon: \"fas fa-calendar-alt\",\r\n    label: t(\"Appointments\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/admin/specialities\",\r\n    icon: \"fas fa-stethoscope\",\r\n    label: t(\"Specialities\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/admin/Doctors\",\r\n    icon: \"fas fa-users\",\r\n    label: t(\"Doctors\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/admin/Users\",\r\n    icon: \"fas fa-users\",\r\n    label: t(\"Users\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/admin/Countries\",\r\n    icon: \"fas fa-gear\",\r\n    label: t(\"Countries\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/admin/Cities\",\r\n    icon: \"fas fa-gear\",\r\n    label: t(\"Cities\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/admin/Facilities\",\r\n    icon: \"fas fa-gear\",\r\n    label: t(\"Facilities\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/admin/Treatments\",\r\n    icon: \"fas fa-gear\",\r\n    label: t(\"Treatments\"),\r\n    role: \"ROLE_ADMIN\",\r\n  },\r\n  {\r\n    path: \"/en/account-change-password\",\r\n    icon: \"fas fa-lock\",\r\n    label: t(\"ChangePassword\"),\r\n    role: \"all\",\r\n  },\r\n  {\r\n    path: \"/\",\r\n    icon: \"fas fa-lock\",\r\n    label: t(\"logout\"),\r\n    role: \"all\",\r\n    onClick: customActions.logout,\r\n  },\r\n];\r\n","import AVATAR from \"client/assets/images/icons/male.png\";\r\nimport { UserService } from \"client/services\";\r\nimport { CountryCity } from \"common\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { adminMenuItems } from \"./menuItems\";\r\nimport { AuthService } from \"client/services\";\r\n\r\nexport const DashboardSidebar = () => {\r\n  const [t, i18nextLng] = useTranslation();\r\n  const pathname = window.location.pathname;\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const navigate = useNavigate();\r\n  const [isLoggedIn, setIsLoggedIn] = useState();\r\n\r\n  const lang = \"en\";\r\n  useEffect(() => {\r\n    const fetchCurrentUser = async () => {\r\n      try {\r\n        const response = await UserService.getCurrentUser();\r\n        setCurrentUser(response?.body);\r\n      } catch (error) {\r\n        console.log(\"Error fetching current user:\", error);\r\n      }\r\n    };\r\n    fetchCurrentUser();\r\n  }, []);\r\n\r\n  const renderMenuItem = (item, index) => {\r\n    const shouldRenderItem =\r\n      item.role === \"all\" ||\r\n      (currentUser?.roles?.some((role) => role?.name === \"ROLE_ADMIN\") &&\r\n        item?.role === \"ROLE_ADMIN\");\r\n    if (!shouldRenderItem) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <li key={index} className={pathname.includes(item.path) ? \"active\" : \"\"}>\r\n        <Link\r\n          to={item.path}\r\n          onClick={(e) => {\r\n            if (item.onClick) {\r\n              e.preventDefault(); // Prevent default link behavior if there's an onClick\r\n              item.onClick(); // Call the function if it exists\r\n            }\r\n          }}\r\n        >\r\n          <i className={item.icon}></i>\r\n          <span>{item.label}</span>\r\n        </Link>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  const customActions = {\r\n    logout: () => {\r\n      console.log(\"Logging out...\");\r\n      AuthService.logout();\r\n      setIsLoggedIn(false);\r\n      navigate(\"/\");\r\n    },\r\n    // Add other custom actions as needed\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-sidebar\">\r\n      <div className=\"widget-profile pro-widget-content\">\r\n        <div className=\"profile-info-widget\">\r\n          <a href=\"#0\" className=\"booking-doc-img\">\r\n            <img src={AVATAR} alt=\"User\" />\r\n          </a>\r\n          <div className=\"profile-det-info\">\r\n            <h3>{currentUser?.email}</h3>\r\n            <div className=\"patient-details\">\r\n              <h5>\r\n                <i className=\"fas fa-birthday-cake\"></i>{\" \"}\r\n                {currentUser?.dateOfBirth &&\r\n                  moment(currentUser?.dateOfBirth).format(\"DD MMM YYYY\")}\r\n                ,{\" \"}\r\n                {currentUser?.dateOfBirth &&\r\n                  moment(currentUser?.dateOfBirth, \"YYYY-MM-DD\")\r\n                    .month(0)\r\n                    .from(moment().month(0))}\r\n              </h5>\r\n              <h5 className=\"mb-0\">\r\n                <i className=\"fas fa-map-marker-alt\"></i>\r\n                {currentUser?.cityOfResidence &&\r\n                  currentUser?.cityOfResidence},{\" \"}\r\n                {currentUser?.countryOfResidence &&\r\n                  CountryCity.getCountryOfCode(currentUser?.countryOfResidence)\r\n                    .name}\r\n              </h5>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"dashboard-widget\">\r\n        <nav className=\"dashboard-menu\">\r\n          <ul>{adminMenuItems(t, customActions).map(renderMenuItem)}</ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default DashboardSidebar;\r\n"],"names":["useState","isLoading","setIsLoading","message","setMessage","status","setStatus","validate","values","errors","oldPassword","newPassword","confirm","onSubmit","AuthService","email","response","success","UserService","password","responseChangePassword","className","offsetTop","offsetBottom","type","boldMsg","msg","render","handleSubmit","reset","submitError","form","submitting","pristine","event","then","noValidate","map","m","i","name","component","InputField","disabled","adminMenuItems","t","customActions","path","icon","label","role","onClick","logout","DashboardSidebar","useTranslation","pathname","window","location","currentUser","setCurrentUser","navigate","useNavigate","setIsLoggedIn","useEffect","fetchCurrentUser","body","console","log","href","src","AVATAR","alt","dateOfBirth","moment","format","month","from","cityOfResidence","countryOfResidence","CountryCity","item","index","roles","some","includes","to","e","preventDefault"],"sourceRoot":""}