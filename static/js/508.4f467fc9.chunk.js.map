{"version":3,"file":"static/js/508.4f467fc9.chunk.js","mappings":"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","sources":["client/components/dashboard/appointments/details.jsx","client/Pages/AppointmentDetailsPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport format from \"date-fns/format\";\r\nimport { AppointmentService, AttachmentService } from \"client/services\";\r\nimport { questions, labels, preferenceOptions_en, preferenceOptions_ar } from \"common\";\r\n\r\nconst AppointmentDetails = () => {\r\n  const [t, i18next] = useTranslation();\r\n  let location = useLocation();\r\n  const [state, setState] = useState({\r\n    ...location?.state,\r\n  });\r\n  const [doctorInfo, setDoctorInfo] = useState();\r\n  const [appointment, setAppointment] = useState();\r\n  const [attachments, setAttachments] = useState([]);\r\n  const [message, setMessage] = useState();\r\n\r\n  const [travelPreferences, setTravelPreferences] = useState(\r\n    JSON.parse(state?.travelPreferences)\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(async () => {\r\n    const responseAppointment = await AppointmentService.getAppointmentById(\r\n      state?.id\r\n    );\r\n    setAppointment(responseAppointment?.body);\r\n    // const response = await DoctorService.getDoctorByID(state?.doctorId);\r\n    // setDoctorInfo(response?.body);\r\n\r\n    if (responseAppointment?.body?.attachments?.length > 0) {\r\n      setLoading(true);\r\n      let responseAttachment;\r\n      responseAppointment?.body?.attachments.map(async (att, index) => {\r\n        responseAttachment = await AttachmentService.getAttachmentById(att.id);\r\n        setAttachments((prev) => [...prev, responseAttachment?.body]);\r\n        if (index === responseAppointment?.body?.attachments?.length - 1)\r\n          setLoading(false);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  function download(file) {\r\n    var element = document.createElement(\"a\");\r\n    element.setAttribute(\"href\", file.fileUrl);\r\n    element.setAttribute(\"download\", file.fileName);\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n    element.click();\r\n    document.body.removeChild(element);\r\n  }\r\n  async function ExportMedicalDetails(s) {\r\n    setMessage();\r\n    console.log(\r\n      `AppointmentDetails :: ExportMedicalDetails: ${JSON.stringify(s)}`\r\n    );\r\n    const responseAppointmentDetails =\r\n      await AppointmentService.exportAppointmentDetails(s?.id);\r\n    if (\r\n      !!!responseAppointmentDetails.success &&\r\n      !responseAppointmentDetails.success\r\n    ) {\r\n      setMessage(\r\n        !!responseAppointmentDetails.message &&\r\n          responseAppointmentDetails.message\r\n      );\r\n      return;\r\n    }\r\n    download(responseAppointmentDetails?.body);\r\n  }\r\n  async function ExportTravelPreferences(appointmentId) {\r\n    setMessage();\r\n    const responseTravelPreferences =\r\n      await AppointmentService.exportTravelPreferences(appointmentId);\r\n    if (\r\n      !!!responseTravelPreferences.success &&\r\n      !responseTravelPreferences.success\r\n    ) {\r\n      setMessage(\r\n        !!responseTravelPreferences.message && responseTravelPreferences.message\r\n      );\r\n      return;\r\n    }\r\n    download(responseTravelPreferences?.body);\r\n  }\r\n  return (\r\n    <div className=\"content\">\r\n      <div className=\"container\">\r\n        <Link\r\n          to=\"/account-appointments\"\r\n          className=\"btn btn-primary bd-highlight\"\r\n        >\r\n          <i className=\"fas  fa-arrow-left\"></i>{\" \"}\r\n          {t(\"AppointmentsComponent.BackToAppointments\")}\r\n        </Link>\r\n        <div className=\"row patient-details-flex mt-4\">\r\n          {message?.map((m, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"invalid-feedback d-block mb-2\"\r\n              style={{\r\n                margin:\r\n                  i18next.language === \"en\" ? \"10px 0 0 15px\" : \"10px 15px 0 0\",\r\n              }}\r\n            >\r\n              {m}\r\n            </div>\r\n          ))}\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card booking-card\">\r\n              <h3 className=\"p-2 bd-highlight text-center\">\r\n                {t(\"AppointmentsComponent.MedicalServiceDetails\")}\r\n                {/* export button hidden temporarily */}\r\n                <a\r\n                  title={t(\"Export\")}\r\n                  style={{\r\n                    color: \"darkblue\",\r\n                    padding:\r\n                      i18next.language === \"en\" ? \"0 0 0 5px\" : \"0 5px 0 0\",\r\n                    cursor: \"pointer\",\r\n                    display: \"none\",\r\n                  }}\r\n                  onClick={() => {\r\n                    ExportMedicalDetails(state);\r\n                  }}\r\n                >\r\n                  <i className=\"fa fa-file-word\"></i>\r\n                </a>\r\n              </h3>\r\n\r\n              <div className=\"card-body d-flex justify-content-center\">\r\n                <ul className=\"list-group\" style={{ width: \"40rem\" }}>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                    <div className=\"col-5\">\r\n                      {t(\"AppointmentsComponent.BookingNumber\")}:\r\n                    </div>\r\n                    <div className=\"col-7\">{state?.id}</div>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                    <div className=\"col-5\">\r\n                      {t(\"AppointmentsComponent.Email\")}:\r\n                    </div>\r\n                    <div className=\"col-12\">{state?.patientEmail}</div>\r\n                  </li>\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                    <div className=\"col-5\">\r\n                      {t(\"AppointmentsComponent.CreatedDate\")}:\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                      {state?.createdDate &&\r\n                        format(new Date(state?.createdDate), \"dd/MM/yyyy\")}\r\n                    </div>\r\n                  </li>\r\n                  {/* <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                    <div className=\"col-7\">\r\n                      {t(\"AppointmentsComponent.AppointmentBookedWith\")}:\r\n                    </div>\r\n                    <div className=\"col-7\">{`Dr. ${state?.doctorFirstName} ${\r\n                      state?.doctorLastName !== null\r\n                        ? state?.doctorLastName\r\n                        : \"\"\r\n                    }`}</div>\r\n                  </li> */}\r\n                  <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                    <div className=\"col-5\">\r\n                      {t(\"AppointmentsComponent.Treatment\")}:\r\n                    </div>\r\n                    <div className=\"col-12\">{state?.treatment?.name}</div>\r\n                  </li>\r\n                  {/* <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                    <div className=\"col-7\">\r\n                      {t(\"AppointmentsComponent.Symptoms\")}:\r\n                    </div>\r\n                    <div className=\"col-7\">{state?.symptoms}</div>\r\n                  </li> */}\r\n                  {/* <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                    <div className=\"col-7\">\r\n                      {t(\"AppointmentsComponent.Attachments\")}:\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      {loading ? (\r\n                        <CircularProgress />\r\n                      ) : (\r\n                        attachments?.map((attachment, i) => {\r\n                          return (\r\n                            <div key={i}>\r\n                              <span> {attachment?.fileName}</span>\r\n                              <a\r\n                                key={i}\r\n                                href={attachment?.fileUrl}\r\n                                download={attachment?.fileName}\r\n                              >\r\n                                <i\r\n                                  className=\"fa fa-download\"\r\n                                  style={{\r\n                                    color: \"#17a2b8\",\r\n                                    padding:\r\n                                      i18next.language === \"en\"\r\n                                        ? \"0 0 0 5px\"\r\n                                        : \"0 5px 0 0\",\r\n                                  }}\r\n                                ></i>\r\n                              </a>\r\n                            </div>\r\n                          );\r\n                        })\r\n                      )}\r\n                    </div>\r\n                  </li> */}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {state?.travelPreferences && (\r\n            <div className=\"col-md-6\">\r\n              <div className=\"card booking-card\">\r\n                <h3 className=\"p-2 bd-highlight text-center\">\r\n                  {t(\"AppointmentsComponent.TravelPreferences\")}\r\n                  {/* export button hidden temporarily */}\r\n                  <a\r\n                    title={t(\"Export\")}\r\n                    style={{\r\n                      color: \"darkblue\",\r\n                      padding:\r\n                        i18next.language === \"en\" ? \"0 0 0 5px\" : \"0 5px 0 0\",\r\n                      cursor: \"pointer\",\r\n                      display: \"none\"\r\n                    }}\r\n                    onClick={() => {\r\n                      ExportTravelPreferences(state?.id);\r\n                    }}\r\n                  >\r\n                    <i className=\"fa fa-file-word\"></i>\r\n                  </a>\r\n                </h3>\r\n                <div className=\"card-body d-flex justify-content-center\">\r\n                  <ul className=\"list-group\" style={{ width: \"40rem\" }}>\r\n                    {(i18next.language === \"ar\" ? preferenceOptions_ar : preferenceOptions_en)?.map((f) => (\r\n                      <li className=\"list-group-item d-flex justify-content-between align-items-center py-1\">\r\n                        <div className=\"col-10\">{f?.title}</div>\r\n                        <div className=\"col-2\">\r\n                          {travelPreferences[f?.id] ? <b>Yes</b> : \"No\"}\r\n                        </div>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppointmentDetails;\r\n","import React from \"react\";\r\nimport AppointmentDetails from \"../components/dashboard/appointments/details\";\r\n\r\nfunction AppointmentDetailsPage() {\r\n  return <AppointmentDetails />;\r\n}\r\nexport default AppointmentDetailsPage;"],"names":["useTranslation","t","i18next","location","useLocation","useState","state","setAppointment","setAttachments","message","setMessage","JSON","parse","travelPreferences","setLoading","download","file","element","document","createElement","setAttribute","fileUrl","fileName","style","display","body","appendChild","click","removeChild","s","console","log","stringify","AppointmentService","id","responseAppointmentDetails","success","appointmentId","responseTravelPreferences","useEffect","responseAppointment","attachments","length","map","att","index","AttachmentService","responseAttachment","prev","className","to","m","i","margin","language","title","color","padding","cursor","onClick","ExportMedicalDetails","width","patientEmail","createdDate","format","Date","treatment","name","ExportTravelPreferences","preferenceOptions_ar","preferenceOptions_en","f"],"sourceRoot":""}