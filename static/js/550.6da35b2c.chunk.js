"use strict";(self.webpackChunkymp_react=self.webpackChunkymp_react||[]).push([[550],{5462:function(e,t,n){n.d(t,{Lk:function(){return a},Zp:function(){return o},Tf:function(){return i},OE:function(){return d},jU:function(){return v},dt:function(){return h},JB:function(){return g},KD:function(){return y}});var r=n(1186),a={getAttachmentById:function(e){var t="".concat("https://ymp-api.herokuapp.com","/api/v1/attachment/").concat(e);return(0,r.o7)({url:t,method:"get"})}},c="".concat("https://ymp-api.herokuapp.com","/api/v1/city"),o={getAllCities:function(){var e=c;return(0,r.Xv)({url:e,method:"get"})},getCityByID:function(e){var t="".concat(c,"/").concat(e);return(0,r.Xv)({url:t,method:"get"})},createCity:function(e){var t=c;return(0,r.Xv)({url:t,method:"post",requestBody:e})},updateCity:function(e,t){var n="".concat(c,"/").concat(e);return(0,r.Xv)({url:n,method:"put",requestBody:t})},deleteCity:function(e){var t="".concat(c,"/").concat(e);return(0,r.Xv)({url:t,method:"delete"})}},u="".concat("https://ymp-api.herokuapp.com","/api/v1/country"),i={getAllCountries:function(){var e=u;return(0,r.Xv)({url:e,method:"get"})},getCountryByID:function(e){var t="".concat(u,"/").concat(e);return(0,r.Xv)({url:t,method:"get"})},createCountry:function(e){var t=u;return(0,r.Xv)({url:t,method:"post",requestBody:e})},updateCountry:function(e,t){var n="".concat(u,"/").concat(e);return(0,r.Xv)({url:n,method:"put",requestBody:t})},deleteCountry:function(e){var t="".concat(u,"/").concat(e);return(0,r.Xv)({url:t,method:"delete"})}},s=n(1413),l="".concat("https://ymp-api.herokuapp.com","/api/v1/doctor"),d={getAllDoctors:function(e,t){var n="".concat(l,"?page=").concat(e,"&size=").concat(t);return(0,r.Xv)({url:n,method:"get"})},getDoctorByID:function(e){var t="".concat(l,"/").concat(e);return(0,r.Xv)({url:t,method:"get"})},createDoctor:function(e){var t=l;return(0,r.Xv)({url:t,method:"post",requestBody:(0,s.Z)({},e)})},updateDoctor:function(e,t){var n="".concat(l,"/").concat(e);return(0,r.Xv)({url:n,method:"put",requestBody:(0,s.Z)({},t)})},deleteDoctor:function(e){var t="".concat(l,"/").concat(e);return(0,r.Xv)({url:t,method:"delete"})}},m="".concat("https://ymp-api.herokuapp.com","/api/v1/facility"),v={getAllFacilities:function(){var e=m;return(0,r.Xv)({url:e,method:"get"})},getFacilityByID:function(e){var t="".concat(m,"/").concat(e);return(0,r.Xv)({url:t,method:"get"})},createFacility:function(e){var t=m;return(0,r.Xv)({url:t,method:"post",requestBody:e})},updateFacility:function(e,t){var n="".concat(m,"/").concat(e);return(0,r.Xv)({url:n,method:"put",requestBody:t})},deleteFacility:function(e){var t="".concat(m,"/").concat(e);return(0,r.Xv)({url:t,method:"delete"})}},p="".concat("https://ymp-api.herokuapp.com","/api/v1/speciality"),h={getAllSpecialitiesWithPagination:function(e,t){var n="".concat(p,"?page=").concat(e,"&size=").concat(t);return(0,r.Xv)({url:n,method:"get"})},getAllSpecialities:function(){var e="".concat(p);return(0,r.Xv)({url:e,method:"get"})},getSpecialityByID:function(e){var t="".concat(p,"/").concat(e);return(0,r.Xv)({url:t,method:"get"})},createSpeciality:function(e){var t=p;return(0,r.Xv)({url:t,method:"post",requestBody:(0,s.Z)({},e)})},updateSpeciality:function(e,t){var n="".concat(p,"/").concat(e);return(0,r.Xv)({url:n,method:"put",requestBody:(0,s.Z)({},t)})},deleteSpeciality:function(e){var t="".concat(p,"/").concat(e);return(0,r.Xv)({url:t,method:"delete"})}},f="".concat("https://ymp-api.herokuapp.com","/api/v1/treatment"),g={getAllTreatments:function(){var e=f;return(0,r.Xv)({url:e,method:"get"})},getTreatmentByID:function(e){var t="".concat(f,"/").concat(e);return(0,r.Xv)({url:t,method:"get"})},createTreatment:function(e){var t=f;return(0,r.Xv)({url:t,method:"post",requestBody:e})},updateTreatment:function(e,t){var n="".concat(f,"/").concat(e);return(0,r.Xv)({url:n,method:"put",requestBody:t})},deleteTreatment:function(e){var t="".concat(f,"/").concat(e);return(0,r.Xv)({url:t,method:"delete"})}},x="".concat("https://ymp-api.herokuapp.com","/api/v1/user"),y={getAllUsers:function(e,t){var n="".concat(x,"?page=").concat(e,"&size=").concat(t);return(0,r.Xv)({url:n,method:"get"})},getUserByID:function(e){var t="".concat(x,"/id/").concat(e);return(0,r.Xv)({url:t,method:"get"})},createUser:function(e){var t=x;return(0,r.Xv)({url:t,method:"post",requestBody:(0,s.Z)({},e)})},updateUser:function(e,t){var n="".concat(x,"/").concat(e);return(0,r.Xv)({url:n,method:"put",requestBody:(0,s.Z)({},t)})},deleteUser:function(e){var t="".concat(x,"/").concat(e);return(0,r.Xv)({url:t,method:"delete"})},getUserByEmail:function(e){var t="".concat(x,"/email/").concat(e);return(0,r.Xv)({url:t,method:"get"})}}},8550:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(2791),a=n(5861),c=n(1413),o=n(9439),u=n(4687),i=n.n(u),s=n(6871),l=n(3168),d=n(4602),m=n(5462),v=n(6491),p=n(2705),h=n(5078),f=n(1186),g=n(1441),x="Treatment_treatment-image__o3PlJ",y=n(184),j=function(e){var t=e.treatment,n=(t.id,t.details),a=t.details_ar,c=(0,r.useState)(null),u=(0,o.Z)(c,2),i=(u[0],u[1],(0,r.useState)(!1)),s=(0,o.Z)(i,2),d=s[0],m=(s[1],(0,l.$)()),v=(0,o.Z)(m,2),p=(v[0],v[1]);return d?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"col-12 center",children:[(0,y.jsx)(g.Z,{}),(0,y.jsx)(g.Z,{}),(0,y.jsx)(g.Z,{}),(0,y.jsx)(g.Z,{}),(0,y.jsx)(g.Z,{})]}),(0,y.jsx)("div",{className:"col-12 col-md-6 ".concat(x),hidden:"true",children:(0,y.jsx)(g.Z,{variant:"rectangular",width:250,height:167,animation:"wave"})})]}):(0,y.jsx)("div",{className:"col-12",children:(0,y.jsx)("p",{dangerouslySetInnerHTML:{__html:"ar"===p.language?a:n}})})},Z=function(e){var t="treatment",n=e.errorMessage,r=e.data,a=(0,l.$)(),u=(0,o.Z)(a,2),i=u[0],s=u[1];return(0,y.jsxs)(v.en.Page,{label:i("Treatments"),validate:function(e){var t={};return e.treatment||(t.treatment=f.C1),t},children:[n,(0,y.jsxs)("div",{className:"row form-row",children:[(0,y.jsx)(h.gN,{name:t,showerrorbeside:"true",children:function(e){var t=e.input,n=(e.meta,null===r||void 0===r?void 0:r.find((function(e){return e.id===parseInt(t.value)})));return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"col-12 col-md-12",children:(0,y.jsx)("div",{className:"form-group",children:(0,y.jsxs)("select",(0,c.Z)((0,c.Z)({className:"form-control select"},t),{},{onChange:function(e){t.onChange(e)},disabled:!r,children:[(0,y.jsx)(v.te,{label:"ar"===s.language?"\u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u0644\u0627\u062c":"Select Treatment"}),null===r||void 0===r?void 0:r.map((function(e,t){return(0,y.jsx)("option",{value:e.id,children:"ar"===s.language?e.name_ar:e.name},t)}))]}))})}),n&&(0,y.jsx)(j,{treatment:n})]})}}),(0,y.jsx)(v.jj,{name:t,showerrorbeside:"true"})]})]})},X=n(5987),b=n(2802),k=n(7572),B=n(3811),C=n(8823),S=n(7111),q=n(325),N=n(4871),w=n(5584),D=["id","title","description"],A=function(e,t,n){return("ar"===n?f.SZ:f.Bo).map((function(n,r){var a=n.id,c=n.title,o=n.description,u=(0,X.Z)(n,D);return(0,y.jsx)("div",{className:"row form-row",children:(0,y.jsx)(h.gN,{name:"".concat(e,".").concat(a),id:a,children:function(e){var n,r,i=e.input;e.meta;return(0,y.jsx)(b.Z,{label:(0,y.jsxs)(y.Fragment,{children:[c," ",null!==u&&void 0!==u&&u.additionalLink?(0,y.jsxs)(y.Fragment,{children:[" ",(0,y.jsxs)("a",{className:"text-info",href:null===u||void 0===u||null===(n=u.additionalLink)||void 0===n?void 0:n.link,target:"_blank",children:["(",t," ",null===u||void 0===u||null===(r=u.additionalLink)||void 0===r?void 0:r.name,")"]})]}):"",(0,y.jsx)(k.Z,{title:o,arrow:!0,children:(0,y.jsx)(B.Z,{children:(0,y.jsx)(w.Z,{})})})]}),control:(0,y.jsx)(C.Z,{value:a,checked:i.value,onChange:function(e){i.onChange(e.target.checked)}})})}})},r)}))},T=function(e){var t=(0,l.$)(),n=(0,o.Z)(t,2),r=n[0],a=n[1],c="preferences",u=e.errorMessage;return(0,y.jsxs)(v.en.Page,{label:r("AppointmentsComponent.TravelPreferences"),children:[u,(0,y.jsxs)(S.Z,{children:[(0,y.jsx)(q.Z,{component:"legend",children:r("Treatment.SelectPreferenceMessage")}),(0,y.jsxs)(N.Z,{children:[A(c,r("General.Check"),a.language),(0,y.jsx)(v.jj,{name:c,showerrorbeside:"true"})]})]})]})},I=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,M=function(e){var t=e.errorMessage,n=(0,l.$)(),r=(0,o.Z)(n,2),a=r[0],c=r[1];return(0,y.jsxs)(v.en.Page,{label:a("AppointmentsComponent.Communication"),validate:function(e){var t={};return e.email||(t.email=f.C1),I.test(e.email)||(t.email=a("Validations.invalid-email")),t},children:[t&&(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",style:{margin:"en"===c.language?"10px 0 0 15px":"10px 15px 0 0"},children:t}),(0,y.jsx)("div",{className:"row form-row",children:(0,y.jsxs)("div",{className:"col-12 col-md-12",children:[(0,y.jsx)("div",{className:"form-group mt-4",children:(0,y.jsx)("p",{children:a("AppointmentsComponent.EnterEmailMessage")})}),(0,y.jsxs)("div",{className:"form-group mt-4",children:[(0,y.jsx)("label",{children:a("AppointmentsComponent.Email")}),(0,y.jsx)(h.gN,{name:"email",className:"form-control",type:"text",component:v.UP})]})]})})]})},U=function(e,t){return e&&(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",style:{margin:"en"===t.language?"10px 0 0 15px":"10px 15px 0 0"},children:e})};var _=function(e){var t=e.onSubmit,n=e.initialValues,u=(e.errorMessage,e.lables,(0,l.$)()),s=(0,o.Z)(u,2),d=(s[0],s[1]),m=(0,r.useState)(!1),h=(0,o.Z)(m,2),f=(h[0],h[1]),g=(0,r.useState)(),x=(0,o.Z)(g,2),j=x[0],X=x[1],b=(0,r.useState)(),k=(0,o.Z)(b,2),B=k[0],C=k[1];(0,r.useEffect)((function(){function e(){return e=(0,a.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.JB.getAllTreatments();case 2:t=e.sent,X(!(null===t||void 0===t||!t.message)&&(null===t||void 0===t?void 0:t.message)),t.success&&C(null===(n=t.body)||void 0===n||null===(r=n.filter((function(e){return!0===e.active})))||void 0===r?void 0:r.map((function(e){return(0,c.Z)((0,c.Z)({},e),{},{active:e.active})}))),f(!1);case 6:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}return document.body.classList.add("account-page"),f(!0),function(){e.apply(this,arguments)}(),function(){document.body.classList.remove("account-page")}}),[]);var S=function(e){t(e)},q=function(){return(0,y.jsxs)(v.en,{initialValues:n,onSubmit:S,lables:{next:"ar"===d.language?"\u0627\u0644\u062a\u0627\u0644\u064a":"Next",previous:"ar"===d.language?"\u0627\u0644\u0633\u0627\u0628\u0642":"Previous",summary:"ar"===d.language?"\u0627\u0644\u0645\u0644\u062e\u0635":"Summary"},children:[Z({errorMessage:U(j,d),data:B,isLoading:!1}),T({errorMessage:U(j,d)}),M({errorMessage:U(j,d)})]})};return(0,y.jsx)(q,{})},F=n(7804),L={treatment:"",preferences:{q1:!1,q2:!1,q3:!1,q4:!1,q5:!1,q6:!1},email:""},P=function(){var e=(0,r.useContext)(F.Z).getLang,t=(0,l.$)(),n=(0,o.Z)(t,1)[0],u=(0,r.useContext)(d.Z),p=(0,s.s0)(),h=(0,r.useState)(null),f=(0,o.Z)(h,2),g=f[0],x=f[1];(0,r.useState)((function(){u.data||u.updateData((0,c.Z)({},L))}),[]);var j=function(){var t=(0,a.Z)(i().mark((function t(n){var r,a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.KD.getUserByEmail(n.email);case 2:if((r=t.sent).success){t.next=18;break}return t.prev=4,t.next=7,m.KD.createUser({email:null===n||void 0===n?void 0:n.email,password:null===n||void 0===n?void 0:n.email.split("@")[0],status:"incomplete"});case 7:a=t.sent,c=a.body.userId,n.userId=c,t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(4),x(t.t0.message),t.abrupt("return");case 16:t.next=19;break;case 18:n.userId=r.body.userId;case 19:u.updateData(n),p("/"+e()+"/treatments-summary");case 21:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}();return(0,y.jsx)(v.T3,{title:n("Treatments"),children:(0,y.jsx)(_,{onSubmit:j,initialValues:u.data,errorMessage:g})})},E=function(){return(0,y.jsx)(P,{})}}}]);
//# sourceMappingURL=550.6da35b2c.chunk.js.map