"use strict";(self.webpackChunkymp_react=self.webpackChunkymp_react||[]).push([[280],{1280:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(2791),r=n(3433),o=n(1413),s=n(5861),i=n(9439),c=n(4687),l=n.n(c),d=n(5316),u=n(6592),m=n(3168),v=n(6557),f=n(6580),h=n(5462),p=n(2705),x=n(5987),g=n(5078),j=n(6491),N=n(1186),y=n(184),b=["value","onChange"];var Z=function(e){var t,n,r,c,d,u,m,v,f,p,Z,D=(0,a.useState)(!1),C=(0,i.Z)(D,2),k=C[0],w=C[1],S=(0,a.useState)(!1),A=(0,i.Z)(S,2),I=A[0],X=A[1],B=(0,a.useState)(),E=(0,i.Z)(B,2),O=E[0],U=E[1],L=(0,a.useState)(),P=(0,i.Z)(L,2),M=P[0],R=P[1],q=(0,a.useState)(null),F=(0,i.Z)(q,2),_=F[0],T=F[1];(0,a.useEffect)((0,s.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),e.next=3,h.dt.getAllSpecialities();case 3:t=e.sent,U(!(null===t||void 0===t||!t.message)&&(null===t||void 0===t?void 0:t.message)),t.success&&R(t.body),X(!1);case 7:case"end":return e.stop()}}),e)}))),[]);var Y=function(){var t=(0,s.Z)(l().mark((function t(n){var a,r,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onSubmit :: ".concat(JSON.stringify(n,0,2))),w(!0),a={firstName:n.firstName,lastName:n.lastName,phone:n.phone,title:n.title,specialityId:n.specialityId,image:_,addresses:[{city:n.city,streetAddress:n.streetAddress,name:"",mapLocation:""}]},e.mode!==N.Vc.Update){t.next=10;break}return e.selectedDoctor.email||(a.email=n.email),t.next=7,h.OE.updateDoctor(null===(o=e.selectedDoctor)||void 0===o?void 0:o.id,a);case 7:r=t.sent,t.next=15;break;case 10:return a.password=a.firstName.toLowerCase()+a.lastName.toLowerCase(),a.email=n.email,t.next=14,h.OE.createDoctor(a);case 14:r=t.sent;case 15:if(w(!1),r.success||r.success){t.next=19;break}return U(!!r.message&&r.message),t.abrupt("return");case 19:e.onClose(r.body);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var e=(0,s.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.firstName||(n.firstName=N.C1),t.lastName||(n.lastName=N.C1),t.email?t.email.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||(n.email="Invalid Email format!"):n.email=N.C1,t.phone||(n.phone=N.C1),t.title||(n.title=N.C1),t.specialityId||(n.specialityId=N.C1),t.image||(n.image=N.C1),t.city||(n.city=N.C1),t.streetAddress||(n.streetAddress=N.C1),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}}))},H=function(){var e=(0,s.Z)(l().mark((function e(t){var n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,V(n);case 3:a=e.sent,T(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=(0,y.jsx)(g.l0,{validate:z,onSubmit:Y,initialValues:{title:null===(t=e.selectedDoctor)||void 0===t?void 0:t.title,firstName:null===(n=e.selectedDoctor)||void 0===n?void 0:n.firstName,lastName:null===(r=e.selectedDoctor)||void 0===r?void 0:r.lastName,email:null===(c=e.selectedDoctor)||void 0===c?void 0:c.email,phone:null===(d=e.selectedDoctor)||void 0===d?void 0:d.phone,specialityId:null===(u=e.selectedDoctor)||void 0===u?void 0:u.specialityId,image:null===(m=e.selectedDoctor)||void 0===m?void 0:m.image,streetAddress:null===(v=e.selectedDoctor)||void 0===v||null===(f=v.addresses[0])||void 0===f?void 0:f.streetAddress,city:null===(p=e.selectedDoctor)||void 0===p||null===(Z=p.addresses[0])||void 0===Z?void 0:Z.city},render:function(t){var n=t.handleSubmit,a=(t.onChange,t.submitError,t.form,t.submitting,t.pristine,t.values);return(0,y.jsxs)("form",{onSubmit:n,className:"needs-validation",noValidate:!0,children:[O&&(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",children:O}),(0,y.jsx)("h4",{className:"card-title",children:"Doctor Information:"}),(0,y.jsxs)("div",{className:"row form-row",children:[(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Title"}),(0,y.jsx)(g.gN,{name:"title",className:"form-control floating",type:"text",component:j.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Speciality"}),(0,y.jsx)(g.gN,{name:"specialityId",showerrorbeside:"true",children:function(e){var t=e.input;e.meta;return(0,y.jsxs)("select",(0,o.Z)((0,o.Z)({className:"form-control select",defaultValue:a.specialityId,value:a.specialityId},t.select),{},{onChange:function(e){t.onChange(e)},children:[(0,y.jsx)("option",{value:"",children:I?"loading ...":"Select Your Speciality"}),null===M||void 0===M?void 0:M.map((function(e,t){return(0,y.jsx)("option",{value:e.id,children:e.name},t)}))]}))}}),(0,y.jsx)(j.jj,{name:"specialityId",showerrorbeside:"true"})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"First Name"}),(0,y.jsx)(g.gN,{name:"firstName",className:"form-control floating",type:"text",component:j.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Last Name"}),(0,y.jsx)(g.gN,{name:"lastName",className:"form-control floating",type:"text",component:j.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Email ID"}),(0,y.jsx)(g.gN,{name:"email",className:"form-control floating",type:"email",component:j.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Mobile"}),(0,y.jsx)(g.gN,{name:"phone",className:"form-control floating",type:"text",component:j.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Image"}),(0,y.jsx)(g.gN,{name:"image",showerrorbeside:"true",children:function(e){var t=e.input,n=(t.value,t.onChange),a=(0,x.Z)(t,b);return(0,y.jsx)("input",(0,o.Z)((0,o.Z)({},a),{},{type:"file",className:"form-control floating",onChange:function(e){n(e),H(e)}}))}}),(0,y.jsx)(j.jj,{name:"image",showerrorbeside:"true"})]})})]}),(0,y.jsx)("h4",{className:"card-title",children:"Address details:"}),(0,y.jsxs)("div",{className:"row form-row",children:[(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"City"}),(0,y.jsx)(g.gN,{name:"city",className:"form-control floating",type:"text",component:j.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Street Address"}),(0,y.jsx)(g.gN,{name:"streetAddress",className:"form-control floating",type:"text",component:j.UP})]})})]}),(0,y.jsxs)("div",{className:"submit-section",children:[(0,y.jsxs)("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:k,children:[k?"":"Save",k&&(0,y.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]}),(0,y.jsx)("button",{className:"btn btn-secondary submit-btn",onClick:function(){e.onClose(null)},children:"Close"})]})]})}});return(0,y.jsx)("div",{children:$})},D=n(9406);var C=function(){var e=(0,m.$)(),t=(0,i.Z)(e,2),n=t[0],c=(t[1],(0,a.useState)(!1)),x=(0,i.Z)(c,2),g=x[0],b=x[1],C=(0,a.useState)(!1),k=(0,i.Z)(C,2),w=k[0],S=k[1],A=(0,a.useState)(!1),I=(0,i.Z)(A,2),X=I[0],B=I[1],E=(0,a.useState)(!1),O=(0,i.Z)(E,2),U=O[0],L=O[1],P=(0,a.useState)(!1),M=(0,i.Z)(P,2),R=M[0],q=M[1],F=(0,a.useState)(),_=(0,i.Z)(F,2),T=_[0],Y=_[1],z=(0,a.useState)(),V=(0,i.Z)(z,2),H=V[0],$=V[1],J=(0,a.useState)(),K=(0,i.Z)(J,2),Q=K[0],G=K[1],W=(0,a.useState)(null),ee=(0,i.Z)(W,2),te=ee[0],ne=ee[1],ae=(0,a.useState)(1),re=(0,i.Z)(ae,2),oe=re[0],se=re[1],ie=(0,a.useState)(),ce=(0,i.Z)(ie,2),le=ce[0],de=ce[1],ue=(0,a.useState)(0),me=(0,i.Z)(ue,2),ve=me[0],fe=me[1],he=(0,a.useState)(N.Vc.Add),pe=(0,i.Z)(he,2),xe=pe[0],ge=pe[1],je=function(){return B(!1)},Ne=(0,a.useState)(),ye=(0,i.Z)(Ne,2),be=ye[0],Ze=ye[1],De=function(){B(!0),q(!1)},Ce=function(){return L(!1)};(0,a.useEffect)((0,s.Z)(l().mark((function e(){var t,n,a,r,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=p.e8.getCurrentUser())&&console.log("\ud83d\ude80 ~ file: index.jsx ~ line 44 ~ useEffect ~ uurrentUser",t),b(!0),e.next=5,h.OE.getAllDoctors(ve,10);case 5:if(n=e.sent,Y(!(null===n||void 0===n||!n.message)&&(null===n||void 0===n?void 0:n.message)),!n.success){e.next=16;break}return e.next=10,h.dt.getAllSpecialities();case 10:r=e.sent,Y(!(null===r||void 0===r||!r.message)&&(null===r||void 0===r?void 0:r.message)),r.success&&Ze(r.body),s=null===n||void 0===n||null===(a=n.body)||void 0===a?void 0:a.map((function(e){var t;return(0,o.Z)((0,o.Z)({},e),{},{name:"".concat(e.firstName?e.firstName:"").concat(e.lastName?" "+e.lastName:""),specialityId:null===be||void 0===be||null===(t=be.find((function(t){return t.id===e.specialityId})))||void 0===t?void 0:t.name})})),G(s),de((0,o.Z)({},null===n||void 0===n?void 0:n.pagingation));case 16:b(!1);case 17:case"end":return e.stop()}}),e)}))),[ve]);var ke=function(){var e=(0,s.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,h.OE.deleteDoctor(t);case 3:if(n=e.sent,S(!1),n.success||n.success){e.next=8;break}return $(!!n.message&&n.message),e.abrupt("return");case 8:Ce(),1===(null===Q||void 0===Q?void 0:Q.length)&&fe(ve-1),G(Q.filter((function(e){return e.id!=t})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=(0,y.jsx)(j.wQ,{columns:[{id:"title",label:"Title"},{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"specialityId",label:"Speciality"},{id:"phone",label:"Phone",className:"text-center"}],rows:Q,onPageChange:function(e,t){fe(t-1),se(t),q(!1)},totalPages:null===le||void 0===le?void 0:le.totalPages,page:oe,showActions:!0,onEdit:function(e){De(),ne(e),ge(N.Vc.Update)},onDelete:function(e){L(!0),q(!1),ne(e),$(null)}});return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"content",children:(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar",children:(0,y.jsx)(u.Z,{offsetTop:20,offsetBottom:20,children:(0,y.jsx)(D.Z,{})})}),(0,y.jsx)("div",{className:"col-md-7 col-lg-8 col-xl-9",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-sm-12",children:(0,y.jsxs)("div",{className:"card",children:[(0,y.jsxs)("div",{className:"card-header",children:[(0,y.jsx)("h4",{className:"card-title float-left",children:"Doctors List"}),(0,y.jsx)("button",{className:"btn btn-primary float-right",onClick:function(){De(),ne(null),ge(N.Vc.Add)},"data-toggle":"modal",children:"Add"})]}),(0,y.jsx)("div",{className:"card-body ",children:(0,y.jsx)("div",{className:"card card-table mb-0",children:(0,y.jsx)("div",{className:"card-body",children:(0,y.jsxs)("div",{className:"table-responsive",children:[null===T||void 0===T?void 0:T.map((function(e,t){return(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",children:e},t)})),g?(0,y.jsx)("div",{className:"centered",children:(0,y.jsxs)("h4",{children:[(0,y.jsx)("div",{children:(0,y.jsx)(f.Z,{})}),(0,y.jsx)("div",{children:(0,y.jsx)("span",{style:{color:"#15558d"},children:n("GettingDoctors")})})]})}):(0,y.jsxs)(y.Fragment,{children:[R?(0,y.jsx)("div",{style:{margin:"20px"},children:(0,y.jsx)(v.Z,{severity:"success",children:"Doctor have been ".concat(xe," successfully!")})}):(0,y.jsx)(y.Fragment,{}),we]})]})})})})]})})})})]})})}),(0,y.jsxs)(d.Z,{show:X,onHide:je,size:"lg",scrollable:!0,"aria-labelledby":"example-modal-sizes-title-sm",children:[(0,y.jsxs)(d.Z.Header,{children:[(0,y.jsx)("h5",{className:"modal-title",children:"".concat(xe," Doctor")}),(0,y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:je,children:(0,y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,y.jsx)(d.Z.Body,{children:(0,y.jsx)("div",{className:"modal-body",children:(0,y.jsx)("div",{children:(0,y.jsx)(Z,{selectedDoctor:te,mode:xe,onClose:function(e){if(je(),e){if(xe===N.Vc.Update){var t=Q.map((function(t){var n;return t.id===e.id?(0,o.Z)((0,o.Z)({},e),{},{name:"".concat(e.firstName?e.firstName:"").concat(e.lastName?" "+e.lastName:""),specialityId:null===be||void 0===be||null===(n=be.find((function(e){return e.id===t.specialityId})))||void 0===n?void 0:n.name}):t}));G(t)}else{var n,a=(0,o.Z)((0,o.Z)({},e),{},{name:"".concat(e.firstName?e.firstName:"").concat(e.lastName?" "+e.lastName:""),specialityId:null===be||void 0===be||null===(n=be.find((function(t){return t.id===e.specialityId})))||void 0===n?void 0:n.name});10===(null===Q||void 0===Q?void 0:Q.length)&&de((0,o.Z)((0,o.Z)({},le),{},{totalPages:le.totalPages+1})),G([].concat((0,r.Z)(Q),[a]))}q(!0)}}})})})})]}),(0,y.jsxs)(d.Z,{show:U,onHide:Ce,"aria-labelledby":"example-modal-sizes-title-sm",centered:!0,children:[(0,y.jsxs)(d.Z.Header,{children:[(0,y.jsx)("h5",{className:"modal-title",children:"Delete Doctor Confirmation"}),(0,y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:Ce,children:(0,y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,y.jsx)(d.Z.Body,{children:(0,y.jsxs)("div",{className:"modal-body",children:[H&&(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",children:H}),(0,y.jsx)("h5",{style:{color:"red"},children:"Are you sure you want to delete the following doctor?"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("b",{children:"Doctor Name:"})," ".concat(null!==te&&void 0!==te&&te.firstName?null===te||void 0===te?void 0:te.firstName:""," ").concat(null!==te&&void 0!==te&&te.lastName?null===te||void 0===te?void 0:te.lastName:"")]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("b",{children:"Doctor Email:"})," ".concat(null===te||void 0===te?void 0:te.email)]})]})}),(0,y.jsxs)(d.Z.Footer,{children:[(0,y.jsxs)("button",{className:"btn btn-danger submit-btn",disabled:w,onClick:function(){ke(te.id)},children:[w?"":"Delete",w&&(0,y.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]}),(0,y.jsx)("button",{className:"btn btn-secondary submit-btn",onClick:Ce,children:"Close"})]})]})]})};var k=function(){return(0,y.jsx)(C,{})}},5462:function(e,t,n){n.d(t,{Lk:function(){return r},Zp:function(){return s},Tf:function(){return c},OE:function(){return u},jU:function(){return v},dt:function(){return h},JB:function(){return x},KD:function(){return j}});var a=n(1186),r={getAttachmentById:function(e){var t="".concat("https://ymp-api.herokuapp.com","/api/v1/attachment/").concat(e);return(0,a.o7)({url:t,method:"get"})}},o="".concat("https://ymp-api.herokuapp.com","/api/v1/city"),s={getAllCities:function(){var e=o;return(0,a.Xv)({url:e,method:"get"})},getCityByID:function(e){var t="".concat(o,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createCity:function(e){var t=o;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateCity:function(e,t){var n="".concat(o,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteCity:function(e){var t="".concat(o,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},i="".concat("https://ymp-api.herokuapp.com","/api/v1/country"),c={getAllCountries:function(){var e=i;return(0,a.Xv)({url:e,method:"get"})},getCountryByID:function(e){var t="".concat(i,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createCountry:function(e){var t=i;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateCountry:function(e,t){var n="".concat(i,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteCountry:function(e){var t="".concat(i,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},l=n(1413),d="".concat("https://ymp-api.herokuapp.com","/api/v1/doctor"),u={getAllDoctors:function(e,t){var n="".concat(d,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getDoctorByID:function(e){var t="".concat(d,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createDoctor:function(e){var t=d;return(0,a.Xv)({url:t,method:"post",requestBody:(0,l.Z)({},e)})},updateDoctor:function(e,t){var n="".concat(d,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,l.Z)({},t)})},deleteDoctor:function(e){var t="".concat(d,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},m="".concat("https://ymp-api.herokuapp.com","/api/v1/facility"),v={getAllFacilities:function(){var e=m;return(0,a.Xv)({url:e,method:"get"})},getFacilityByID:function(e){var t="".concat(m,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createFacility:function(e){var t=m;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateFacility:function(e,t){var n="".concat(m,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteFacility:function(e){var t="".concat(m,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},f="".concat("https://ymp-api.herokuapp.com","/api/v1/speciality"),h={getAllSpecialitiesWithPagination:function(e,t){var n="".concat(f,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getAllSpecialities:function(){var e="".concat(f);return(0,a.Xv)({url:e,method:"get"})},getSpecialityByID:function(e){var t="".concat(f,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createSpeciality:function(e){var t=f;return(0,a.Xv)({url:t,method:"post",requestBody:(0,l.Z)({},e)})},updateSpeciality:function(e,t){var n="".concat(f,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,l.Z)({},t)})},deleteSpeciality:function(e){var t="".concat(f,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},p="".concat("https://ymp-api.herokuapp.com","/api/v1/treatment"),x={getAllTreatments:function(){var e=p;return(0,a.Xv)({url:e,method:"get"})},getTreatmentByID:function(e){var t="".concat(p,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createTreatment:function(e){var t=p;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateTreatment:function(e,t){var n="".concat(p,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteTreatment:function(e){var t="".concat(p,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},g="".concat("https://ymp-api.herokuapp.com","/api/v1/user"),j={getAllUsers:function(e,t){var n="".concat(g,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getUserByID:function(e){var t="".concat(g,"/id/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createUser:function(e){var t=g;return(0,a.Xv)({url:t,method:"post",requestBody:(0,l.Z)({},e)})},updateUser:function(e,t){var n="".concat(g,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,l.Z)({},t)})},deleteUser:function(e){var t="".concat(g,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})},getUserByEmail:function(e){var t="".concat(g,"/email/").concat(e);return(0,a.Xv)({url:t,method:"get"})}}},9406:function(e,t,n){n.d(t,{g:function(){return g},Z:function(){return j}});var a=n(5861),r=n(9439),o=n(4687),s=n.n(o),i=n(5263),c=n(2705),l=n(1186),d=n(2426),u=n.n(d),m=n(2791),v=n(3168),f=n(3504),h=n(6871),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{path:"/en/account-profile",icon:"fas fa-user-cog",label:e("ProfileSettings"),role:"all"},{path:"/en/account-appointments",icon:"fas fa-calendar-alt",label:e("Appointments"),role:"ROLE_ADMIN"},{path:"/en/admin/specialities",icon:"fas fa-stethoscope",label:e("Specialities"),role:"ROLE_ADMIN"},{path:"/en/admin/Doctors",icon:"fas fa-users",label:e("Doctors"),role:"ROLE_ADMIN"},{path:"/en/admin/Users",icon:"fas fa-users",label:e("Users"),role:"ROLE_ADMIN"},{path:"/en/admin/Countries",icon:"fas fa-gear",label:e("Countries"),role:"ROLE_ADMIN"},{path:"/en/admin/Cities",icon:"fas fa-gear",label:e("Cities"),role:"ROLE_ADMIN"},{path:"/en/admin/Facilities",icon:"fas fa-gear",label:e("Facilities"),role:"ROLE_ADMIN"},{path:"/en/admin/Treatments",icon:"fas fa-gear",label:e("Treatments"),role:"ROLE_ADMIN"},{path:"/en/account-change-password",icon:"fas fa-lock",label:e("ChangePassword"),role:"all"},{path:"/",icon:"fas fa-lock",label:e("logout"),role:"all",onClick:t.logout}]},x=n(184),g=function(){var e=(0,v.$)(),t=(0,r.Z)(e,2),n=t[0],o=(t[1],window.location.pathname),d=(0,m.useState)(null),g=(0,r.Z)(d,2),j=g[0],N=g[1],y=(0,h.s0)(),b=(0,m.useState)(),Z=(0,r.Z)(b,2),D=(Z[0],Z[1]);(0,m.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.KD.getCurrentUser();case 3:t=e.sent,N(null===t||void 0===t?void 0:t.body),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching current user:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C={logout:function(){console.log("Logging out..."),c.e8.logout(),D(!1),y("/")}};return(0,x.jsxs)("div",{className:"profile-sidebar",children:[(0,x.jsx)("div",{className:"widget-profile pro-widget-content",children:(0,x.jsxs)("div",{className:"profile-info-widget",children:[(0,x.jsx)("a",{href:"#0",className:"booking-doc-img",children:(0,x.jsx)("img",{src:i,alt:"User"})}),(0,x.jsxs)("div",{className:"profile-det-info",children:[(0,x.jsx)("h3",{children:null===j||void 0===j?void 0:j.email}),(0,x.jsxs)("div",{className:"patient-details",children:[(0,x.jsxs)("h5",{children:[(0,x.jsx)("i",{className:"fas fa-birthday-cake"})," ",(null===j||void 0===j?void 0:j.dateOfBirth)&&u()(null===j||void 0===j?void 0:j.dateOfBirth).format("DD MMM YYYY"),","," ",(null===j||void 0===j?void 0:j.dateOfBirth)&&u()(null===j||void 0===j?void 0:j.dateOfBirth,"YYYY-MM-DD").month(0).from(u()().month(0))]}),(0,x.jsxs)("h5",{className:"mb-0",children:[(0,x.jsx)("i",{className:"fas fa-map-marker-alt"}),(null===j||void 0===j?void 0:j.cityOfResidence)&&(null===j||void 0===j?void 0:j.cityOfResidence),","," ",(null===j||void 0===j?void 0:j.countryOfResidence)&&l.mQ.getCountryOfCode(null===j||void 0===j?void 0:j.countryOfResidence).name]})]})]})]})}),(0,x.jsx)("div",{className:"dashboard-widget",children:(0,x.jsx)("nav",{className:"dashboard-menu",children:(0,x.jsx)("ul",{children:p(n,C).map((function(e,t){var n;return"all"===e.role||(null===j||void 0===j||null===(n=j.roles)||void 0===n?void 0:n.some((function(e){return"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.name)})))&&"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.role)?(0,x.jsx)("li",{className:o.includes(e.path)?"active":"",children:(0,x.jsxs)(f.rU,{to:e.path,onClick:function(t){e.onClick&&(t.preventDefault(),e.onClick())},children:[(0,x.jsx)("i",{className:e.icon}),(0,x.jsx)("span",{children:e.label})]})},t):null}))})})})]})},j=g}}]);
//# sourceMappingURL=280.ad46bde6.chunk.js.map