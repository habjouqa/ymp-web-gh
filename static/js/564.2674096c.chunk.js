"use strict";(self.webpackChunkymp_react=self.webpackChunkymp_react||[]).push([[564],{3564:function(o,s,e){e.r(s),e.d(s,{default:function(){return f}});var n=e(2791),a=e(5861),l=e(1413),t=e(9439),i=e(4687),c=e.n(i),r=e(5078),d=e(3504),u=e(6871),v=e(6491),m=e(7742),g=e(1582),h=e(184),p=function(o){new URLSearchParams(window.location.search);var s,e,i,p,f,x,b,j,N,y,k,w,S,L,D,Z,I=(0,u.TH)();console.log("LoginContainer :: location: ".concat(JSON.stringify(I))),console.log("LoginContainer :: props: ".concat(JSON.stringify(o))),console.log("LoginContainer :: doctorData: ".concat(null===I||void 0===I||null===(s=I.state)||void 0===s?void 0:s.doctorData)),console.log("LoginContainer :: history: ".concat(null===I||void 0===I||null===(e=I.state)||void 0===e?void 0:e.history));var P="Required",_=(0,n.useState)(),C=(0,t.Z)(_,2),M=C[0],U=C[1],J=(0,n.useState)(!1),O=(0,t.Z)(J,2),E=O[0],R=O[1],Y=(0,u.s0)(),B=(0,n.useState)((0,l.Z)((0,l.Z)({},null===I||void 0===I?void 0:I.state),{},{isLoggedIn:!1})),T=(0,t.Z)(B,2);T[0],T[1];(0,n.useEffect)((function(){return document.body.classList.add("account-page"),function(){document.body.classList.remove("account-page")}}),[]);var q=function(){var o=(0,a.Z)(c().mark((function o(s){var e;return c().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e={},s.email||(e.email=P),s.password||(e.password=P),o.abrupt("return",e);case 4:case"end":return o.stop()}}),o)})));return function(s){return o.apply(this,arguments)}}(),A=function(){var s=(0,a.Z)(c().mark((function s(e){var n,a,t,i,r,d,u;return c().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return R(!0),console.log("onSubmit :: ".concat(JSON.stringify(e,0,2))),s.next=4,g.Z.login(e.email,e.password);case 4:if(t=s.sent,U(!!t.message&&t.message),R(!!t.success&&t.success),t.success){s.next=9;break}return s.abrupt("return");case 9:null!==t&&void 0!==t&&null!==(n=t.body)&&void 0!==n&&n.status&&"active"===(null===t||void 0===t||null===(a=t.body)||void 0===a?void 0:a.status)?(null!==t&&void 0!==t&&null!==(i=t.body)&&void 0!==i&&i.accessToken&&localStorage.setItem("user",JSON.stringify(null===t||void 0===t?void 0:t.body)),u="/treatments"===(null===I||void 0===I||null===(r=I.state)||void 0===r?void 0:r.history)?"/treatments-summary":(null===I||void 0===I||null===(d=I.state)||void 0===d?void 0:d.history)||"/en/account-profile",o.setIsLoggedIn(!0),Y(u,{state:(0,l.Z)((0,l.Z)({},null===I||void 0===I?void 0:I.state),{},{isLoggedIn:!0,prevPath:I.pathname})})):U(["Your account needs activation, please contact info@yourmedicalportal.com"]);case 10:case"end":return s.stop()}}),s)})));return function(o){return s.apply(this,arguments)}}();return(0,h.jsx)("div",{className:"content",children:(0,h.jsxs)("div",{className:"container-fluid",children:[null!==I&&void 0!==I&&null!==(i=I.state)&&void 0!==i&&i.doctorData?(0,h.jsx)("div",{className:"col-md-5 col-lg-4 theiaStickySidebar",children:(0,h.jsxs)("div",{className:"card booking-card",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h4",{className:"card-title",children:"Booking Summary"})}),(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)("div",{className:"booking-doc-info",children:[(0,h.jsx)("img",{src:null===I||void 0===I||null===(p=I.state)||void 0===p||null===(f=p.doctorData)||void 0===f?void 0:f.image,className:"booking-doc-img",alt:"Doctor"}),(0,h.jsxs)("div",{className:"booking-info",children:[(0,h.jsx)("h4",{children:null===I||void 0===I||null===(x=I.state)||void 0===x||null===(b=x.doctorData)||void 0===b?void 0:b.doc_name}),(0,h.jsx)("div",{className:"clinic-details",children:(0,h.jsxs)("p",{className:"doc-location",children:[(0,h.jsx)("i",{className:"fas fa-map-marker-alt"})," ",null===I||void 0===I||null===(j=I.state)||void 0===j||null===(N=j.doctorData)||void 0===N?void 0:N.address]})})]})]}),(0,h.jsx)("div",{className:"booking-summary",children:(0,h.jsx)("div",{className:"booking-item-wrap",children:(0,h.jsx)("ul",{className:"booking-date p-2",children:(0,h.jsxs)("li",{children:["Approximate Date"," ",(0,h.jsx)("span",{children:null===I||void 0===I||null===(y=I.state)||void 0===y||null===(k=y.doctorData)||void 0===k?void 0:k.appointmentDate})]})})})})]})]})}):"",(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-md-8 offset-md-2",children:(0,h.jsxs)("div",{className:"account-content",children:[null!==I&&void 0!==I&&null!==(w=I.state)&&void 0!==w&&w.preStatus&&"success"===(null===I||void 0===I||null===(S=I.state)||void 0===S?void 0:S.preStatus)?(0,h.jsx)(v.at,{type:null===I||void 0===I||null===(L=I.state)||void 0===L?void 0:L.preStatus,boldMsg:"".concat(null===I||void 0===I||null===(D=I.state)||void 0===D?void 0:D.loginBoldMsg),msg:null===I||void 0===I||null===(Z=I.state)||void 0===Z?void 0:Z.loginMsg}):"",(0,h.jsxs)("div",{className:"row align-items-center justify-content-center",children:[(0,h.jsx)("div",{className:"col-md-7 col-lg-6 login-left",children:(0,h.jsx)("img",{src:m,className:"img-fluid",alt:"Your Medical Portal Login"})}),(0,h.jsxs)("div",{className:"col-md-12 col-lg-6 login-right",children:[(0,h.jsx)("div",{className:"login-header",children:(0,h.jsx)("h3",{children:"Login to Your Medical Portal"})}),(0,h.jsx)(r.l0,{validate:q,onSubmit:A,render:function(o){var s,e,n=o.handleSubmit,a=(o.submitError,o.form,o.submitting,o.pristine,o.values);return(0,h.jsxs)("form",{onSubmit:n,className:"needs-validation",noValidate:!0,children:[(0,h.jsx)("div",{className:"invalid-feedback d-block mb-2",children:M}),(0,h.jsx)("div",{className:"form-group form-focus mt-4 ".concat((null===a||void 0===a||null===(s=a.email)||void 0===s?void 0:s.length)>0?"focused":""),children:(0,h.jsx)(r.gN,{name:"email",className:"form-control floating",label:"Email",type:"text",label_type:"focus_label",component:v.UP})}),(0,h.jsx)("div",{className:"form-group form-focus mt-4 ".concat((null===a||void 0===a||null===(e=a.password)||void 0===e?void 0:e.length)>0?"focused":""),children:(0,h.jsx)(r.gN,{name:"password",className:"form-control floating",label:"Password",type:"password",label_type:"focus_label",component:v.UP})}),(0,h.jsx)("div",{className:"text-right",children:(0,h.jsx)(d.rU,{to:"/forgot-password",className:"forgot-link",children:"Forgot Password ?"})}),(0,h.jsxs)("button",{className:"btn btn-primary btn-block btn-lg login-btn mt-5",type:"submit",disabled:E,children:[E?"":"Login",E&&(0,h.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]}),(0,h.jsxs)("div",{className:"text-center dont-have",children:["Don\u2019t have an account? ",(0,h.jsx)(d.rU,{to:"/register",children:"Register"})]})]})}})]})]})]})})})]})})};var f=function(o){return(0,h.jsx)(p,{setIsLoggedIn:o.setIsLoggedIn})}}}]);
//# sourceMappingURL=564.2674096c.chunk.js.map