"use strict";(self.webpackChunkymp_react=self.webpackChunkymp_react||[]).push([[792],{9792:function(e,s,a){a.r(s),a.d(s,{default:function(){return b}});var l=a(2791),i=a(5861),n=a(1413),c=a(9439),t=a(4687),o=a.n(t),r=a(1951),d=a(5078),m=a(3504),u=a(6871),v=a(9161),h=a(1582),x=a(6491),p=a(7804),N=a(184),f=function(){var e,s,a,t,f,b=(0,l.useContext)(p.Z).getLang,j="Required",g=(0,l.useState)(),y=(0,c.Z)(g,2),k=y[0],_=y[1],w=(0,l.useState)(!1),S=(0,c.Z)(w,2),D=S[0],Z=S[1],U=(0,l.useState)(),P=(0,c.Z)(U,2),C=P[0],O=P[1],F=(0,l.useState)(),B=(0,c.Z)(F,2),L=B[0],A=(B[1],(0,u.s0)()),I=(0,u.TH)();console.log("PatientDetails :: location: ".concat(JSON.stringify(null===I||void 0===I||null===(e=I.state)||void 0===e||null===(s=e.values)||void 0===s?void 0:s.state)));var J=(0,l.useState)((0,n.Z)({},null===I||void 0===I?void 0:I.state)),Y=(0,c.Z)(J,2),q=Y[0],E=(Y[1],function(e){console.log("even value: ".concat(e.target.value)),O(e.target.value)}),M=function(){var e=(0,i.Z)(o().mark((function e(s){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s.symptoms||(a.symptoms=j),s.isOnBehalf?"Yes"===s.isOnBehalf&&(s.patientFirstName||(a.patientFirstName=j),s.patientLastName||(a.patientLastName=j)):a.isOnBehalf="",e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.Z)(o().mark((function e(s){var a,l,i,n,c,t,r,d,m,u,x,p,N;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),console.log(JSON.stringify(s,0,2)),!!!h.Z.getCurrentUser()){e.next=28;break}if(console.log("\ud83d\ude80 ~ file: index.jsx ~ line 67 ~ onSubmit ~ values.files?.length",null===(l=s.files)||void 0===l?void 0:l.length),console.log("\ud83d\ude80 ~ file: index.jsx ~ line 67 ~ onSubmit ~ values.files",s.files),0!==(null===(i=s.files)||void 0===i?void 0:i.length)){e.next=12;break}return e.next=9,v.Z.createAppointment(h.Z.getCurrentUser().id,null===s||void 0===s||null===(d=s.doctorData)||void 0===d?void 0:d.id,null===s||void 0===s?void 0:s.appointmentDate,"pending",b());case 9:a=e.sent,e.next=20;break;case 12:for(console.log("files:",L),u=new FormData,x=0;x<(null===(p=s.files)||void 0===p?void 0:p.length);x++)u.append("files",s.files[x]);return N={userId:h.Z.getCurrentUser().id,doctorId:null===s||void 0===s||null===(m=s.doctorData)||void 0===m?void 0:m.id,appointmentDate:null===s||void 0===s?void 0:s.appointmentDate,status:"pending"},u.append("request",JSON.stringify(N,0,2)),e.next=19,v.Z.createAppointmentWithFiles(u,b());case 19:a=e.sent;case 20:if(_(!!a.message&&a.message),Z(!1),a.success||a.success){e.next=24;break}return e.abrupt("return");case 24:console.log("response?.body?.id : ".concat(null===(n=a)||void 0===n||null===(c=n.body)||void 0===c?void 0:c.id)),A("/"+b()+"/medical-success",{state:{values:s,appointmentId:null===(t=a)||void 0===t||null===(r=t.body)||void 0===r?void 0:r.id}}),e.next=29;break;case 28:A("/"+b()+"/login",{state:{values:s,history:"/patient-details"}});case 29:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,N.jsx)(x.T3,{title:"Patient Details",children:(0,N.jsx)("div",{className:"content",children:(0,N.jsx)("div",{className:"container",children:(0,N.jsxs)("div",{className:"row patient-details-flex",children:[(0,N.jsx)("div",{className:"col-md-7",children:(0,N.jsx)("div",{className:"card",children:(0,N.jsx)("div",{className:"card-body",children:(0,N.jsx)(d.l0,{validate:M,onSubmit:T,initialValues:(0,n.Z)({},q),render:function(e){var s=e.handleSubmit;e.submitError,e.form,e.submitting,e.pristine,e.values;return(0,N.jsxs)("form",{onSubmit:s,className:"needs-validation",noValidate:!0,children:[null===k||void 0===k?void 0:k.map((function(e,s){return(0,N.jsx)("div",{className:"invalid-feedback d-block mb-2",children:e},s)})),(0,N.jsx)("div",{className:"card",children:(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsx)("h4",{className:"card-title",children:"Symptoms"}),(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-md-12 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(d.gN,{name:"symptoms",className:"form-control",type:"textarea",rows:"4",placeholder:"Write here symptoms breif...",component:x.UP})})})})]})}),(0,N.jsx)("div",{className:"card",children:(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsx)("h4",{className:"card-title",children:"Attachments"}),(0,N.jsx)("div",{className:"row",children:(0,N.jsx)("div",{className:"col-md-12 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(x.j9,{name:"files",multiple:!0})})})})]})}),(0,N.jsx)("div",{className:"card",children:(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsx)("h4",{className:"card-title",hidden:!0,children:"Contact Information"}),(0,N.jsxs)("div",{className:"row",hidden:!0,children:[(0,N.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(d.gN,{name:"firstName",className:"form-control floating",label:"First Name",label_type:"form_label",type:"text",component:x.UP})})}),(0,N.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(d.gN,{name:"lastName",className:"form-control",label:"Last Name",label_type:"form_label",type:"text",component:x.UP})})}),(0,N.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(d.gN,{name:"email",className:"form-control",label:"Email",label_type:"form_label",type:"text",component:x.UP})})}),(0,N.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(d.gN,{name:"mobile",className:"form-control",label:"mobile",label_type:"form_label",type:"text",component:x.UP})})})]}),(0,N.jsxs)("div",{className:"form-group row",children:[(0,N.jsx)("h4",{className:"col-lg-12 card-title",children:"Are you booking for someone else?"}),(0,N.jsx)("div",{className:"invalid-feedback d-block mt-n2 mx-3",children:"".concat(C?"":j)}),(0,N.jsxs)("div",{className:"col-lg-12 mt-2",children:[(0,N.jsxs)("div",{className:"form-check form-check-inline",children:[(0,N.jsx)(d.gN,{name:"isOnBehalf",component:x.UP,type:"radio",id:"no_radio",className:"form-check-input form-check-inline",value:"No",checked:"No"===C,onClick:E}),(0,N.jsx)("label",{htmlFor:"no_radio",className:"form-check-label",children:"No"})]}),(0,N.jsx)("br",{}),(0,N.jsxs)("div",{className:"form-check form-check-inline",children:[(0,N.jsx)(d.gN,{id:"yes_radio",className:"form-check-input form-check-inline",checked:"Yes"===C,name:"isOnBehalf",value:"Yes",type:"radio",component:x.UP,onClick:E}),(0,N.jsx)("label",{htmlFor:"yes_radio",className:"form-check-label",children:"Yes (Please enter patient's info below)"})]})]})]})]})}),(0,N.jsx)("div",{className:"card",hidden:"No"===C||!C,children:(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsx)("h4",{className:"card-title",children:"On behalf of"}),(0,N.jsxs)("div",{className:"row",children:[(0,N.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(d.gN,{name:"patientFirstName",className:"form-control",type:"text",label:"First Name",label_type:"form_label",component:x.UP})})}),(0,N.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,N.jsx)("div",{className:"form-group card-label",children:(0,N.jsx)(d.gN,{name:"patientLastName",className:"form-control",type:"text",label:"Last Name",label_type:"form_label",component:x.UP})})})]})]})}),(0,N.jsxs)("div",{className:"submit-section d-flex justify-content-between",children:[(0,N.jsx)(m.rU,{to:"/doctor-profile",state:(0,n.Z)({},q),children:(0,N.jsx)("button",{className:"btn btn-primary submit-btn",type:"button",name:"form_submit",disabled:D,children:"Back"})}),(0,N.jsxs)("button",{className:"btn btn-primary submit-btn",type:"submit",name:"form_submit",value:"submit",disabled:D,children:[D?"":"Confirm",D&&(0,N.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]})]})]})}})})})}),(0,N.jsx)("div",{className:"col-md-5 col-lg-4 theiaStickySidebar",children:(0,N.jsxs)("div",{className:"card booking-card",children:[(0,N.jsxs)("div",{className:"card-header",children:[(0,N.jsx)("h4",{className:"card-title",children:"Booking Summary"}),(0,N.jsx)("h4",{className:"card-title",children:JSON.stringify(q)})]}),(0,N.jsxs)("div",{className:"card-body",children:[(0,N.jsxs)("div",{className:"booking-doc-info",children:[(0,N.jsx)("img",{src:null===q||void 0===q||null===(a=q.doctorData)||void 0===a?void 0:a.image,className:"booking-doc-img",alt:"Doctor"}),(0,N.jsxs)("div",{className:"booking-info",children:[(0,N.jsx)("h4",{children:null===q||void 0===q||null===(t=q.doctorData)||void 0===t?void 0:t.doc_name}),(0,N.jsx)("div",{className:"clinic-details",children:(0,N.jsxs)("p",{className:"doc-location",children:[(0,N.jsx)("i",{className:"fas fa-map-marker-alt"})," ",null===q||void 0===q||null===(f=q.doctorData)||void 0===f?void 0:f.address]})})]})]}),(0,N.jsx)("div",{className:"booking-summary",children:(0,N.jsx)("div",{className:"booking-item-wrap",children:(0,N.jsx)("ul",{className:"booking-date p-2",children:(0,N.jsxs)("li",{children:["Approximate Date"," ",(0,N.jsx)("span",{children:(null===q||void 0===q?void 0:q.appointmentDate)&&(0,r.default)(new Date(null===q||void 0===q?void 0:q.appointmentDate),"MM/dd/yyyy")})]})})})})]})]})})]})})})})};var b=function(){return(0,N.jsx)(f,{})}}}]);
//# sourceMappingURL=792.f28cd9f5.chunk.js.map