"use strict";(self.webpackChunkymp_react=self.webpackChunkymp_react||[]).push([[843],{5843:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var a=n(2791),i=n(3433),r=n(1413),c=n(5861),o=n(9439),l=n(4687),s=n.n(l),d=n(5316),u=n(3168),v=n(6592),m=n(6557),h=n(6580),f=n(9406),p=n(5462),y=n(6491),x=n(1186),g=n(5078),j=n(184);var b=function(e){var t=(0,u.$)(),n=(0,o.Z)(t,1)[0],i=e.mode,l=e.selectedFacility,d=e.onClose,v=(0,a.useState)(!1),m=(0,o.Z)(v,2),f=m[0],b=m[1],N=(0,a.useState)(!1),Z=(0,o.Z)(N,2),C=Z[0],k=Z[1],F=(0,a.useState)(),S=(0,o.Z)(F,2),w=S[0],D=S[1],X=(0,a.useState)([]),B=(0,o.Z)(X,2),A=B[0],I=B[1],U=(0,a.useState)([]),O=(0,o.Z)(U,2),E=O[0],M=O[1],V=(0,a.useState)(),q=(0,o.Z)(V,2),L=q[0],R=q[1],T=(0,a.useState)(!1),_=(0,o.Z)(T,2),Y=_[0],z=_[1],P=(0,a.useState)(),H=(0,o.Z)(P,2),J=H[0],$=H[1],K=(0,a.useState)(!0),Q=(0,o.Z)(K,2),W=Q[0],G=Q[1];(0,a.useEffect)((0,c.Z)(s().mark((function e(){var t,n,a,r,c,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i===x.Vc.Update&&null!==l&&void 0!==l&&null!==(t=l.attachment)&&void 0!==t&&t.id&&z(!0),R(null===l||void 0===l?void 0:l.countryId),k(!0),e.next=5,p.Tf.getAllCountries();case 5:return a=e.sent,e.next=8,p.Zp.getAllCities();case 8:if(r=e.sent,D(!(null===a||void 0===a||!a.message)&&(null===a||void 0===a?void 0:a.message)),a.success&&I(a.body),r.success&&M(r.body),k(!1),i!==x.Vc.Update||null===l||void 0===l||null===(n=l.attachment)||void 0===n||!n.id){e.next=19;break}return e.next=16,p.Lk.getAttachmentById(null===l||void 0===l||null===(c=l.attachment)||void 0===c?void 0:c.id);case 16:(o=e.sent).success?($(o.body),G(!1)):$(null),z(!1);case 19:case"end":return e.stop()}}),e)}))),[]);var ee=function(){var e=(0,c.Z)(s().mark((function e(t){var n,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onSubmit :: ".concat(JSON.stringify(t,0,2))),b(!0),n={name:t.name,city:t.city,details:t.details,active:i!==x.Vc.Update||t.active},(a=new FormData).append("request",JSON.stringify(n,0,2)),W&&a.append("image",t.image[0]),i!==x.Vc.Update){e.next=12;break}return e.next=9,p.jU.updateFacility(null===l||void 0===l?void 0:l.id,a);case 9:r=e.sent,e.next=15;break;case 12:return e.next=14,p.jU.createFacility(a);case 14:r=e.sent;case 15:if(r.success||r.success){e.next=19;break}return b(!1),D(!!r.message&&r.message),e.abrupt("return");case 19:b(!1),d(r.body);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,c.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.name||(n.name=x.C1),t.country||(n.country=x.C1),t.city||(n.city=x.C1),t.details||(n.details=x.C1),!t.image&&W&&(n.image=x.C1),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=(0,j.jsx)(g.l0,{mutators:{setValue:function(e,t,n){var a=(0,o.Z)(e,2),i=a[0],r=a[1];(0,n.changeValue)(t,i,(function(){return r}))}},validate:te,onSubmit:ee,initialValues:{name:null===l||void 0===l?void 0:l.name,country:null===l||void 0===l?void 0:l.countryId,city:null===l||void 0===l?void 0:l.cityId,details:null===l||void 0===l?void 0:l.details,image:null===l||void 0===l?void 0:l.image},render:function(e){var t=e.handleSubmit,a=(e.onChange,e.submitError,e.form,e.submitting,e.pristine,e.values),c=e.form.mutators.setValue;return(0,j.jsxs)("form",{onSubmit:t,className:"needs-validation",noValidate:!0,children:[w&&(0,j.jsx)("div",{className:"invalid-feedback d-block mb-2",children:w}),(0,j.jsxs)("div",{className:"row form-row",children:[(0,j.jsx)("div",{className:"col-12 col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:n("Facility.Country")}),(0,j.jsx)(g.gN,{name:"country",showerrorbeside:"true",children:function(e){var t=e.input;e.meta;return(0,j.jsxs)("select",(0,r.Z)((0,r.Z)({className:"form-control select"},t.select),{},{defaultValue:a.country,value:a.country,onChange:function(e){t.onChange(e),R(e.target.value),c("city","")},children:[(0,j.jsx)("option",{value:"",children:n(!0===C?"loading":"Facility.SelectCountry")}),null===A||void 0===A?void 0:A.map((function(e,t){return(0,j.jsx)("option",{value:e.id,children:e.name},t)}))]}))}}),(0,j.jsx)(y.jj,{name:"country",showerrorbeside:"true"})]})}),(0,j.jsx)("div",{className:"col-12 col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:n("Facility.City")}),(0,j.jsx)(g.gN,{name:"city",showerrorbeside:"true",children:function(e){var t=e.input;e.meta;return(0,j.jsxs)("select",(0,r.Z)((0,r.Z)({className:"form-control select"},t.select),{},{defaultValue:null===a||void 0===a?void 0:a.city,value:null===a||void 0===a?void 0:a.city,disabled:!(null!==a&&void 0!==a&&a.country)||E.findIndex((function(e){var t;return(null===(t=e.country)||void 0===t?void 0:t.id)==L}))<0,onChange:function(e){t.onChange(e)},children:[(0,j.jsx)("option",{value:"",children:!0===C?n("loading"):L&&E.findIndex((function(e){var t;return(null===(t=e.country)||void 0===t?void 0:t.id)==L}))<0?"No cities found":n("Facility.SelectCity")}),null===E||void 0===E?void 0:E.filter((function(e){var t;return(null===(t=e.country)||void 0===t?void 0:t.id)==L})).map((function(e,t){return(0,j.jsx)("option",{value:e.id,children:e.name},t)}))]}))}}),(0,j.jsx)(y.jj,{name:"city",showerrorbeside:"true"})]})}),(0,j.jsx)("div",{className:"col-12 col-md-6",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:n("Facility.Name")}),(0,j.jsx)(g.gN,{name:"name",className:"form-control floating",type:"text",component:y.UP})]})}),(0,j.jsx)("div",{className:"col-12 col-md-6",children:(0,j.jsx)("div",{className:"form-group",children:Y?(0,j.jsx)(h.Z,{}):i===x.Vc.Update&&J&&!W?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("img",{src:null===J||void 0===J?void 0:J.fileUrl,alt:"image",width:250}),(0,j.jsx)("span",{title:"remove",onClick:function(){return G(!0)},style:{cursor:"pointer",marginTop:"44px"},children:"\u274c"})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("label",{children:n("Country.Image")}),(0,j.jsx)(y.j9,{name:"image"}),(0,j.jsx)(y.jj,{name:"image",showerrorbeside:"true"})]})})}),(0,j.jsx)("div",{className:"col-12 col-md-12",children:(0,j.jsxs)("div",{className:"form-group",children:[(0,j.jsx)("label",{children:n("Country.Details")}),(0,j.jsx)(g.gN,{name:"details",className:"form-control",type:"textarea",rows:"4",placeholder:"Write here the details...",component:y.UP})]})})]}),(0,j.jsxs)("div",{className:"submit-section",children:[(0,j.jsxs)("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:f,children:[f?"":n("Facility.Save"),f&&(0,j.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]}),(0,j.jsx)("button",{className:"btn btn-secondary submit-btn",onClick:function(e){e.preventDefault(),d(null)},children:n("Facility.Close")})]})]})}});return(0,j.jsx)("div",{children:ne})},N=function(){var e=(0,u.$)(),t=(0,o.Z)(e,1)[0],n=(0,a.useState)(!1),l=(0,o.Z)(n,2),g=l[0],N=l[1],Z=(0,a.useState)(!1),C=(0,o.Z)(Z,2),k=C[0],F=C[1],S=(0,a.useState)(!1),w=(0,o.Z)(S,2),D=w[0],X=w[1],B=(0,a.useState)(!1),A=(0,o.Z)(B,2),I=A[0],U=A[1],O=(0,a.useState)(!1),E=(0,o.Z)(O,2),M=E[0],V=E[1],q=(0,a.useState)(),L=(0,o.Z)(q,2),R=L[0],T=L[1],_=(0,a.useState)(),Y=(0,o.Z)(_,2),z=Y[0],P=Y[1],H=(0,a.useState)(),J=(0,o.Z)(H,2),$=J[0],K=J[1],Q=(0,a.useState)(null),W=(0,o.Z)(Q,2),G=W[0],ee=W[1],te=(0,a.useState)(x.Vc.Add),ne=(0,o.Z)(te,2),ae=ne[0],ie=ne[1],re=function(){return X(!1)},ce=function(){X(!0),V(!1)},oe=function(){return U(!1)};(0,a.useEffect)((0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,p.jU.getAllFacilities();case 3:t=e.sent,T(!(null===t||void 0===t||!t.message)&&(null===t||void 0===t?void 0:t.message)),t.success&&K(null===(n=t.body)||void 0===n?void 0:n.map((function(e){var t,n,a,i,c,o;return(0,r.Z)((0,r.Z)({},e),{},{cityName:null===(t=e.city)||void 0===t?void 0:t.name,cityId:null===(n=e.city)||void 0===n?void 0:n.id,countryName:null===(a=e.city)||void 0===a||null===(i=a.country)||void 0===i?void 0:i.name,countryId:null===(c=e.city)||void 0===c||null===(o=c.country)||void 0===o?void 0:o.id})}))),N(!1);case 7:case"end":return e.stop()}}),e)}))),[]);var le=function(){var e=(0,c.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.next=3,p.jU.deleteFacility(t);case 3:if(n=e.sent,F(!1),n.success||n.success){e.next=8;break}return P(!!n.message&&n.message),e.abrupt("return");case 8:if(oe(),K($.filter((function(e){return e.id!=t}))),n.success||n.success){e.next=14;break}return T(!(null===n||void 0===n||!n.message)&&(null===n||void 0===n?void 0:n.message)),N(!1),e.abrupt("return");case 14:N(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=(0,c.Z)(s().mark((function e(t,n){var a,i,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),a=new FormData,i={active:!n},a.append("request",JSON.stringify(i,0,2)),e.next=6,p.jU.updateFacility(t,a);case 6:if((c=e.sent).success||c.success){e.next=11;break}return T(!(null===c||void 0===c||!c.message)&&(null===c||void 0===c?void 0:c.message)),N(!1),e.abrupt("return");case 11:K(null===$||void 0===$?void 0:$.map((function(e){var t,n;return e.id===(null===c||void 0===c||null===(t=c.body)||void 0===t?void 0:t.id)?(0,r.Z)((0,r.Z)({},e),{},{active:null===c||void 0===c||null===(n=c.body)||void 0===n?void 0:n.active}):e}))),N(!1);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=[{id:"name",label:t("Facility.Name")},{id:"countryName",label:t("Facility.Country")},{id:"cityName",label:t("Facility.City")},{id:"active",label:t("Facility.Active"),type:x.zw.Toggle}],ue=(0,j.jsx)(y.wQ,{columns:de,rows:$,showActions:!0,onEdit:function(e){ce(),ee(e),ie(x.Vc.Update)},onDelete:function(e){U(!0),V(!1),ee(e),P(null)},onUpdateStatus:function(e){se(e.id,e.active)}});return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:"content",children:(0,j.jsx)("div",{className:"container-fluid",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar",children:(0,j.jsx)(v.Z,{offsetTop:20,offsetBottom:20,children:(0,j.jsx)(f.Z,{})})}),(0,j.jsx)("div",{className:"col-md-7 col-lg-8 col-xl-9",children:(0,j.jsx)("div",{className:"row",children:(0,j.jsx)("div",{className:"col-sm-12",children:(0,j.jsxs)("div",{className:"card",children:[(0,j.jsxs)("div",{className:"card-header",children:[(0,j.jsx)("h4",{className:"card-title float-left",children:t("Facility.ListTitle")}),(0,j.jsx)("button",{className:"btn btn-primary float-right",onClick:function(){ce(),ee(null),ie(x.Vc.Add)},"data-toggle":"modal",children:t("Facility.Add")})]}),(0,j.jsx)("div",{className:"card-body ",children:(0,j.jsx)("div",{className:"card card-table mb-0",children:(0,j.jsx)("div",{className:"card-body",children:(0,j.jsxs)("div",{className:"table-responsive",children:[(0,j.jsx)("div",{className:"invalid-feedback d-block mb-2",children:R}),g?(0,j.jsx)("div",{className:"centered",children:(0,j.jsxs)("h4",{children:[(0,j.jsx)("div",{children:(0,j.jsx)(h.Z,{})}),(0,j.jsx)("div",{children:(0,j.jsx)("span",{style:{color:"#15558d"},children:t("Facility.GettingFacilities")})})]})}):(0,j.jsxs)(j.Fragment,{children:[M?(0,j.jsx)("div",{style:{margin:"20px"},children:(0,j.jsx)(m.Z,{severity:"success",children:ae===x.Vc.Add?t("Facility.AddingSuccessfullyMessage"):t("Facility.UpdatingSuccessfullyMessage")})}):(0,j.jsx)(j.Fragment,{}),ue]})]})})})})]})})})})]})})}),(0,j.jsxs)(d.Z,{show:D,onHide:re,size:"lg",scrollable:!0,"aria-labelledby":"example-modal-sizes-title-sm",children:[(0,j.jsxs)(d.Z.Header,{children:[(0,j.jsx)("h5",{className:"modal-title",children:"".concat(t(ae)," ").concat(t("Facility.Facility"))}),(0,j.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:re,children:(0,j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,j.jsx)(d.Z.Body,{children:(0,j.jsx)("div",{className:"modal-body",children:(0,j.jsx)("div",{children:(0,j.jsx)(b,{selectedFacility:G,mode:ae,onClose:function(e){if(re(),e){if(ae===x.Vc.Update){var t=$.map((function(t){var n,a,i,c;return t.id===e.id?(0,r.Z)((0,r.Z)({},e),{},{cityName:e.city.name,cityId:e.city.id,countryName:null===(n=e.city)||void 0===n||null===(a=n.country)||void 0===a?void 0:a.name,countryId:null===(i=e.city)||void 0===i||null===(c=i.country)||void 0===c?void 0:c.id}):t}));K(t)}else{var n,a,c,o,l=(0,r.Z)((0,r.Z)({},e),{},{cityName:e.city.name,cityId:e.city.id,countryName:null===(n=e.city)||void 0===n||null===(a=n.country)||void 0===a?void 0:a.name,countryId:null===(c=e.city)||void 0===c||null===(o=c.country)||void 0===o?void 0:o.id});K([].concat((0,i.Z)($),[l]))}V(!0)}}})})})})]}),(0,j.jsxs)(d.Z,{show:I,onHide:oe,"aria-labelledby":"example-modal-sizes-title-sm",centered:!0,children:[(0,j.jsxs)(d.Z.Header,{children:[(0,j.jsx)("h5",{className:"modal-title",children:t("Facility.DeleteConfirmationTitle")}),(0,j.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:oe,children:(0,j.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,j.jsx)(d.Z.Body,{children:(0,j.jsxs)("div",{className:"modal-body",children:[z&&(0,j.jsx)("div",{className:"invalid-feedback d-block mb-2",children:z}),(0,j.jsx)("h5",{style:{color:"red"},children:t("Facility.DeleteConfirmationMessage")}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("b",{children:[t("Facility.Facility"),":"]})," ".concat(null===G||void 0===G?void 0:G.name," ")]})]})}),(0,j.jsxs)(d.Z.Footer,{children:[(0,j.jsxs)("button",{className:"btn btn-danger submit-btn",disabled:k,onClick:function(){le(G.id)},children:[k?"":t("Facility.Delete"),k&&(0,j.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]}),(0,j.jsx)("button",{className:"btn btn-secondary submit-btn",onClick:oe,children:t("Facility.Close")})]})]})]})};var Z=function(){return(0,j.jsx)(N,{})}},5462:function(e,t,n){n.d(t,{Lk:function(){return i},Zp:function(){return c},Tf:function(){return l},OE:function(){return u},jU:function(){return m},dt:function(){return f},JB:function(){return y},KD:function(){return g}});var a=n(1186),i={getAttachmentById:function(e){var t="".concat("https://ymp-api.herokuapp.com","/api/v1/attachment/").concat(e);return(0,a.o7)({url:t,method:"get"})}},r="".concat("https://ymp-api.herokuapp.com","/api/v1/city"),c={getAllCities:function(){var e=r;return(0,a.Xv)({url:e,method:"get"})},getCityByID:function(e){var t="".concat(r,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createCity:function(e){var t=r;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateCity:function(e,t){var n="".concat(r,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteCity:function(e){var t="".concat(r,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},o="".concat("https://ymp-api.herokuapp.com","/api/v1/country"),l={getAllCountries:function(){var e=o;return(0,a.Xv)({url:e,method:"get"})},getCountryByID:function(e){var t="".concat(o,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createCountry:function(e){var t=o;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateCountry:function(e,t){var n="".concat(o,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteCountry:function(e){var t="".concat(o,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},s=n(1413),d="".concat("https://ymp-api.herokuapp.com","/api/v1/doctor"),u={getAllDoctors:function(e,t){var n="".concat(d,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getDoctorByID:function(e){var t="".concat(d,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createDoctor:function(e){var t=d;return(0,a.Xv)({url:t,method:"post",requestBody:(0,s.Z)({},e)})},updateDoctor:function(e,t){var n="".concat(d,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,s.Z)({},t)})},deleteDoctor:function(e){var t="".concat(d,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},v="".concat("https://ymp-api.herokuapp.com","/api/v1/facility"),m={getAllFacilities:function(){var e=v;return(0,a.Xv)({url:e,method:"get"})},getFacilityByID:function(e){var t="".concat(v,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createFacility:function(e){var t=v;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateFacility:function(e,t){var n="".concat(v,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteFacility:function(e){var t="".concat(v,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},h="".concat("https://ymp-api.herokuapp.com","/api/v1/speciality"),f={getAllSpecialitiesWithPagination:function(e,t){var n="".concat(h,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getAllSpecialities:function(){var e="".concat(h);return(0,a.Xv)({url:e,method:"get"})},getSpecialityByID:function(e){var t="".concat(h,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createSpeciality:function(e){var t=h;return(0,a.Xv)({url:t,method:"post",requestBody:(0,s.Z)({},e)})},updateSpeciality:function(e,t){var n="".concat(h,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,s.Z)({},t)})},deleteSpeciality:function(e){var t="".concat(h,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},p="".concat("https://ymp-api.herokuapp.com","/api/v1/treatment"),y={getAllTreatments:function(){var e=p;return(0,a.Xv)({url:e,method:"get"})},getTreatmentByID:function(e){var t="".concat(p,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createTreatment:function(e){var t=p;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateTreatment:function(e,t){var n="".concat(p,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteTreatment:function(e){var t="".concat(p,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},x="".concat("https://ymp-api.herokuapp.com","/api/v1/user"),g={getAllUsers:function(e,t){var n="".concat(x,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getUserByID:function(e){var t="".concat(x,"/id/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createUser:function(e){var t=x;return(0,a.Xv)({url:t,method:"post",requestBody:(0,s.Z)({},e)})},updateUser:function(e,t){var n="".concat(x,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,s.Z)({},t)})},deleteUser:function(e){var t="".concat(x,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})},getUserByEmail:function(e){var t="".concat(x,"/email/").concat(e);return(0,a.Xv)({url:t,method:"get"})}}},9406:function(e,t,n){n.d(t,{g:function(){return x},Z:function(){return g}});var a=n(5861),i=n(9439),r=n(4687),c=n.n(r),o=n(5263),l=n(2705),s=n(1186),d=n(2426),u=n.n(d),v=n(2791),m=n(3168),h=n(3504),f=n(6871),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{path:"/en/account-profile",icon:"fas fa-user-cog",label:e("ProfileSettings"),role:"all"},{path:"/en/account-appointments",icon:"fas fa-calendar-alt",label:e("Appointments"),role:"ROLE_ADMIN"},{path:"/en/admin/specialities",icon:"fas fa-stethoscope",label:e("Specialities"),role:"ROLE_ADMIN"},{path:"/en/admin/Doctors",icon:"fas fa-users",label:e("Doctors"),role:"ROLE_ADMIN"},{path:"/en/admin/Users",icon:"fas fa-users",label:e("Users"),role:"ROLE_ADMIN"},{path:"/en/admin/Countries",icon:"fas fa-gear",label:e("Countries"),role:"ROLE_ADMIN"},{path:"/en/admin/Cities",icon:"fas fa-gear",label:e("Cities"),role:"ROLE_ADMIN"},{path:"/en/admin/Facilities",icon:"fas fa-gear",label:e("Facilities"),role:"ROLE_ADMIN"},{path:"/en/admin/Treatments",icon:"fas fa-gear",label:e("Treatments"),role:"ROLE_ADMIN"},{path:"/en/account-change-password",icon:"fas fa-lock",label:e("ChangePassword"),role:"all"},{path:"/",icon:"fas fa-lock",label:e("logout"),role:"all",onClick:t.logout}]},y=n(184),x=function(){var e=(0,m.$)(),t=(0,i.Z)(e,2),n=t[0],r=(t[1],window.location.pathname),d=(0,v.useState)(null),x=(0,i.Z)(d,2),g=x[0],j=x[1],b=(0,f.s0)(),N=(0,v.useState)(),Z=(0,i.Z)(N,2),C=(Z[0],Z[1]);(0,v.useEffect)((function(){var e=function(){var e=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.KD.getCurrentUser();case 3:t=e.sent,j(null===t||void 0===t?void 0:t.body),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching current user:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var k={logout:function(){console.log("Logging out..."),l.e8.logout(),C(!1),b("/")}};return(0,y.jsxs)("div",{className:"profile-sidebar",children:[(0,y.jsx)("div",{className:"widget-profile pro-widget-content",children:(0,y.jsxs)("div",{className:"profile-info-widget",children:[(0,y.jsx)("a",{href:"#0",className:"booking-doc-img",children:(0,y.jsx)("img",{src:o,alt:"User"})}),(0,y.jsxs)("div",{className:"profile-det-info",children:[(0,y.jsx)("h3",{children:null===g||void 0===g?void 0:g.email}),(0,y.jsxs)("div",{className:"patient-details",children:[(0,y.jsxs)("h5",{children:[(0,y.jsx)("i",{className:"fas fa-birthday-cake"})," ",(null===g||void 0===g?void 0:g.dateOfBirth)&&u()(null===g||void 0===g?void 0:g.dateOfBirth).format("DD MMM YYYY"),","," ",(null===g||void 0===g?void 0:g.dateOfBirth)&&u()(null===g||void 0===g?void 0:g.dateOfBirth,"YYYY-MM-DD").month(0).from(u()().month(0))]}),(0,y.jsxs)("h5",{className:"mb-0",children:[(0,y.jsx)("i",{className:"fas fa-map-marker-alt"}),(null===g||void 0===g?void 0:g.cityOfResidence)&&(null===g||void 0===g?void 0:g.cityOfResidence),","," ",(null===g||void 0===g?void 0:g.countryOfResidence)&&s.mQ.getCountryOfCode(null===g||void 0===g?void 0:g.countryOfResidence).name]})]})]})]})}),(0,y.jsx)("div",{className:"dashboard-widget",children:(0,y.jsx)("nav",{className:"dashboard-menu",children:(0,y.jsx)("ul",{children:p(n,k).map((function(e,t){var n;return"all"===e.role||(null===g||void 0===g||null===(n=g.roles)||void 0===n?void 0:n.some((function(e){return"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.name)})))&&"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.role)?(0,y.jsx)("li",{className:r.includes(e.path)?"active":"",children:(0,y.jsxs)(h.rU,{to:e.path,onClick:function(t){e.onClick&&(t.preventDefault(),e.onClick())},children:[(0,y.jsx)("i",{className:e.icon}),(0,y.jsx)("span",{children:e.label})]})},t):null}))})})})]})},g=x}}]);
//# sourceMappingURL=843.c4917973.chunk.js.map