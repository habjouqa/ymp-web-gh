"use strict";(self.webpackChunkymp_react=self.webpackChunkymp_react||[]).push([[883],{3883:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var a=n(2791),r=n(3433),i=n(1413),o=n(5861),s=n(9439),c=n(4687),l=n.n(c),d=n(5316),u=n(6592),m=n(6580),f=n(6557),v=n(5462),h=n(5078),p=n(6491),x=n(1186),y=n(184);var g=function(e){var t,n,r,c,d,u,m,f,g,j,N,b=(0,a.useState)(!1),C=(0,s.Z)(b,2),O=C[0],Z=C[1],B=(0,a.useState)(),k=(0,s.Z)(B,2),R=k[0],U=k[1],w=(0,a.useState)(null===(t=e.selectedUser)||void 0===t?void 0:t.countryOfResidence),D=(0,s.Z)(w,2),S=D[0],X=D[1],A=function(){var t=(0,o.Z)(l().mark((function t(n){var a,r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onSubmit :: ".concat(JSON.stringify(n,0,2))),Z(!0),a={firstName:n.firstName,lastName:n.lastName,dateOfBirth:n.dateOfBirth,phone:n.phone,gender:n.gender,nationality:n.nationality,countryOfResidence:n.countryOfResidence,cityOfResidence:n.cityOfResidence},e.mode!==x.Vc.Update){t.next=9;break}return t.next=6,v.KD.updateUser(null===(i=e.selectedUser)||void 0===i?void 0:i.userId,a);case 6:r=t.sent,t.next=14;break;case 9:return a.password=a.firstName.toLowerCase()+a.lastName.toLowerCase(),a.email=n.email,t.next=13,v.KD.createUser(a);case 13:r=t.sent;case 14:if(Z(!1),r.success||r.success){t.next=18;break}return U(!!r.message&&r.message),t.abrupt("return");case 18:e.onClose(r.body);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.firstName||(n.firstName=x.C1),t.lastName||(n.lastName=x.C1),t.email?t.email.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||(n.email="Invalid Email format!"):n.email=x.C1,t.phone||(n.phone=x.C1),t.gender||(n.gender=x.C1),t.dateOfBirth||(n.dateOfBirth=x.C1),t.nationality||(n.nationality=x.C1),t.countryOfResidence||(n.countryOfResidence=x.C1),t.cityOfResidence||(n.cityOfResidence=x.C1),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=(0,a.useMemo)((function(){return x.mQ.getCountriesList()}),[]),M=(0,y.jsx)(h.l0,{validate:I,onSubmit:A,initialValues:{firstName:null===(n=e.selectedUser)||void 0===n?void 0:n.firstName,lastName:null===(r=e.selectedUser)||void 0===r?void 0:r.lastName,dateOfBirth:null===(c=e.selectedUser)||void 0===c||null===(d=c.dateOfBirth)||void 0===d?void 0:d.split("T")[0],email:null===(u=e.selectedUser)||void 0===u?void 0:u.email,phone:null===(m=e.selectedUser)||void 0===m?void 0:m.phone,gender:null===(f=e.selectedUser)||void 0===f?void 0:f.gender,nationality:null===(g=e.selectedUser)||void 0===g?void 0:g.nationality,countryOfResidence:null===(j=e.selectedUser)||void 0===j?void 0:j.countryOfResidence,cityOfResidence:null===(N=e.selectedUser)||void 0===N?void 0:N.cityOfResidence},render:function(t){var n=t.handleSubmit,a=(t.onChange,t.submitError,t.form,t.submitting,t.pristine,t.values);return(0,y.jsxs)("form",{onSubmit:n,className:"needs-validation",noValidate:!0,children:[R&&(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",children:R}),(0,y.jsxs)("div",{className:"row form-row",children:[(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"First Name"}),(0,y.jsx)(h.gN,{name:"firstName",className:"form-control floating",type:"text",component:p.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Last Name"}),(0,y.jsx)(h.gN,{name:"lastName",className:"form-control floating",type:"text",component:p.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Date of Birth"}),(0,y.jsx)("div",{className:"",children:(0,y.jsx)(h.gN,{name:"dateOfBirth",className:"form-control floating datetimepicker",type:"date",component:p.UP})})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Email ID"}),(0,y.jsx)(h.gN,{name:"email",className:"form-control floating",type:"email",component:p.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Mobile"}),(0,y.jsx)(h.gN,{name:"phone",className:"form-control floating",type:"text",component:p.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Gender"}),(0,y.jsxs)("div",{className:"col-md-10",children:[(0,y.jsxs)("div",{className:"radio",children:[(0,y.jsx)(h.gN,{id:"male_radio",name:"gender",value:"Male",type:"radio",component:p.UP,hideerror:"true"}),(0,y.jsx)("label",{htmlFor:"male_radio",children:"Male"})]}),(0,y.jsxs)("div",{className:"radio",children:[(0,y.jsx)(h.gN,{id:"male_radio",name:"gender",value:"Female",type:"radio",component:p.UP,hideerror:"true"}),(0,y.jsx)("label",{htmlFor:"female_radio",children:"Female"})]}),(0,y.jsx)(p.jj,{name:"gender",showerrorbeside:"true"})]})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Nationality"}),(0,y.jsx)(h.gN,{name:"nationality",showerrorbeside:"true",children:function(e){var t=e.input;e.meta;return(0,y.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-control select",defaultValue:a.nationality},t.select),{},{onChange:function(e){t.onChange(e)},children:[(0,y.jsx)("option",{value:"",children:"Select Your Nationality"}),E.map((function(e,t){return(0,y.jsx)("option",{value:e.isoCode,children:e.name},t)}))]}))}}),(0,y.jsx)(p.jj,{name:"nationality",showerrorbeside:"true"})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"Country"}),(0,y.jsx)(h.gN,{name:"countryOfResidence",showerrorbeside:"true",children:function(e){var t=e.input;e.meta;return(0,y.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-control select",defaultValue:a.countryOfResidence},t.select),{},{onChange:function(e){t.onChange(e),X(e.target.value)},children:[(0,y.jsx)("option",{value:"",children:"Select Country"}),E.map((function(e,t){return(0,y.jsx)("option",{value:e.isoCode,children:e.name},t)}))]}))}}),(0,y.jsx)(p.jj,{name:"countryOfResidence",showerrorbeside:"true"})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"City"}),(0,y.jsx)(h.gN,{name:"cityOfResidence",showerrorbeside:"true",children:function(e){var t=e.input;e.meta;return(0,y.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-control select",defaultValue:a.cityOfResidence},t.select),{},{onChange:function(e){t.onChange(e)},children:[(0,y.jsx)("option",{value:"",children:"Select City"}),x.mQ.getCitiesOfCountry(S).map((function(e,t){return(0,y.jsx)("option",{value:e.name,children:e.name},t)}))]}))}}),(0,y.jsx)(p.jj,{name:"cityOfResidence",showerrorbeside:"true"})]})})]}),(0,y.jsxs)("div",{className:"submit-section",children:[(0,y.jsxs)("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:O,children:[O?"":"Save",O&&(0,y.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]}),(0,y.jsx)("button",{className:"btn btn-secondary submit-btn",onClick:function(){e.onClose(null)},children:"Close"})]})]})}});return(0,y.jsx)("div",{children:M})},j=n(9406);var N=function(){var e=(0,a.useState)(!1),t=(0,s.Z)(e,2),n=t[0],c=t[1],h=(0,a.useState)(!1),N=(0,s.Z)(h,2),b=N[0],C=N[1],O=(0,a.useState)(!1),Z=(0,s.Z)(O,2),B=Z[0],k=Z[1],R=(0,a.useState)(!1),U=(0,s.Z)(R,2),w=U[0],D=U[1],S=(0,a.useState)(!1),X=(0,s.Z)(S,2),A=X[0],I=X[1],E=(0,a.useState)(),M=(0,s.Z)(E,2),L=M[0],F=M[1],P=(0,a.useState)(),_=(0,s.Z)(P,2),q=_[0],T=_[1],Q=(0,a.useState)(),V=(0,s.Z)(Q,2),Y=V[0],z=V[1],K=(0,a.useState)(null),H=(0,s.Z)(K,2),G=H[0],J=H[1],$=(0,a.useState)(1),W=(0,s.Z)($,2),ee=W[0],te=W[1],ne=(0,a.useState)(),ae=(0,s.Z)(ne,2),re=ae[0],ie=ae[1],oe=(0,a.useState)(0),se=(0,s.Z)(oe,2),ce=se[0],le=se[1],de=(0,a.useState)(x.Vc.Add),ue=(0,s.Z)(de,2),me=ue[0],fe=ue[1],ve=function(){return k(!1)},he=function(){k(!0),I(!1)},pe=function(){return D(!1)};(0,a.useEffect)((0,o.Z)(l().mark((function e(){var t,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,v.KD.getAllUsers(ce,10);case 3:t=e.sent,F(!(null===t||void 0===t||!t.message)&&(null===t||void 0===t?void 0:t.message)),t.success&&(a=null===t||void 0===t||null===(n=t.body)||void 0===n?void 0:n.map((function(e){var t,n;return(0,i.Z)((0,i.Z)({},e),{},{name:"".concat(e.firstName?e.firstName:"").concat(e.lastName?" "+e.lastName:""),nationality:null===(t=x.mQ.getCountryOfCode(e.nationality))||void 0===t?void 0:t.name,dateOfBirth:null===(n=e.dateOfBirth)||void 0===n?void 0:n.split("T")[0],address:"".concat(e.countryOfResidence?x.mQ.getCountryOfCode(e.countryOfResidence).name:"").concat(e.cityOfResidence?", "+e.cityOfResidence:"")})})),z(a),ie((0,i.Z)({},null===t||void 0===t?void 0:t.pagingation))),c(!1);case 7:case"end":return e.stop()}}),e)}))),[ce]);var xe=function(){var e=(0,o.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.next=3,v.KD.deleteUser(t);case 3:if(n=e.sent,C(!1),n.success||n.success){e.next=8;break}return T(!!n.message&&n.message),e.abrupt("return");case 8:pe(),1===(null===Y||void 0===Y?void 0:Y.length)&&le(ce-1),z(Y.filter((function(e){return e.userId!=t})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(p.wQ,{columns:[{id:"name",label:"Name"},{id:"email",label:"Email"},{id:"dateOfBirth",label:"Date of Birth"},{id:"phone",label:"Phone",className:"text-center"},{id:"gender",label:"Gender",className:"text-center"},{id:"nationality",label:"Nationality"},{id:"address",label:"Address"}],rows:Y,onPageChange:function(e,t){le(t-1),te(t),I(!1)},totalPages:null===re||void 0===re?void 0:re.totalPages,page:ee,showActions:!0,onEdit:function(e){he(),J(e),fe(x.Vc.Update)},onDelete:function(e){D(!0),I(!1),J(e),T(null)}})});return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"content",children:(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar",children:(0,y.jsx)(u.Z,{offsetTop:20,offsetBottom:20,children:(0,y.jsx)(j.Z,{})})}),(0,y.jsx)("div",{className:"col-md-7 col-lg-8 col-xl-9",children:(0,y.jsx)("div",{className:"row",children:(0,y.jsx)("div",{className:"col-sm-12",children:(0,y.jsxs)("div",{className:"card",children:[(0,y.jsxs)("div",{className:"card-header",children:[(0,y.jsx)("h4",{className:"card-title float-left",children:"Users List"}),(0,y.jsx)("button",{className:"btn btn-primary float-right",onClick:function(){he(),J(null),fe(x.Vc.Add)},"data-toggle":"modal",children:"Add"})]}),(0,y.jsx)("div",{className:"card-body ",children:(0,y.jsx)("div",{className:"card card-table mb-0",children:(0,y.jsx)("div",{className:"card-body",children:(0,y.jsxs)("div",{className:"table-responsive",children:[L&&(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",children:L}),n?(0,y.jsx)("div",{className:"centered",children:(0,y.jsxs)("h4",{children:[(0,y.jsx)("div",{children:(0,y.jsx)(m.Z,{})}),(0,y.jsx)("div",{children:(0,y.jsx)("span",{style:{color:"#15558d"},children:"getting users..."})})]})}):(0,y.jsxs)(y.Fragment,{children:[A?(0,y.jsx)("div",{style:{margin:"20px"},children:(0,y.jsx)(f.Z,{severity:"success",children:"User have been ".concat(me," successfully!")})}):(0,y.jsx)(y.Fragment,{}),ye]})]})})})})]})})})})]})})}),(0,y.jsxs)(d.Z,{show:B,onHide:ve,size:"lg",scrollable:!0,"aria-labelledby":"example-modal-sizes-title-sm",children:[(0,y.jsxs)(d.Z.Header,{children:[(0,y.jsx)("h5",{className:"modal-title",children:"".concat(me," User")}),(0,y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:ve,children:(0,y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,y.jsx)(d.Z.Body,{children:(0,y.jsx)("div",{className:"modal-body",children:(0,y.jsx)("div",{children:(0,y.jsx)(g,{selectedUser:G,mode:me,onClose:function(e){if(ve(),e){if(me===x.Vc.Update){var t=Y.map((function(t){var n,a;return t.userId===e.userId?(0,i.Z)((0,i.Z)({},e),{},{name:"".concat(e.firstName?e.firstName:"").concat(e.lastName?" "+e.lastName:""),nationality:null===(n=x.mQ.getCountryOfCode(e.nationality))||void 0===n?void 0:n.name,dateOfBirth:null===(a=e.dateOfBirth)||void 0===a?void 0:a.split("T")[0],address:"".concat(e.countryOfResidence?x.mQ.getCountryOfCode(e.countryOfResidence).name:"").concat(e.cityOfResidence?", "+e.cityOfResidence:"")}):t}));z(t)}else{var n,a,o=(0,i.Z)((0,i.Z)({},e),{},{name:"".concat(e.firstName?e.firstName:"").concat(e.lastName?" "+e.lastName:""),nationality:null===(n=x.mQ.getCountryOfCode(e.nationality))||void 0===n?void 0:n.name,dateOfBirth:null===(a=e.dateOfBirth)||void 0===a?void 0:a.split("T")[0],address:"".concat(e.countryOfResidence?x.mQ.getCountryOfCode(e.countryOfResidence).name:"").concat(e.cityOfResidence?", "+e.cityOfResidence:"")});10===(null===Y||void 0===Y?void 0:Y.length)&&ie((0,i.Z)((0,i.Z)({},re),{},{totalPages:re.totalPages+1})),z([].concat((0,r.Z)(Y),[o]))}I(!0)}}})})})})]}),(0,y.jsxs)(d.Z,{show:w,onHide:pe,"aria-labelledby":"example-modal-sizes-title-sm",centered:!0,children:[(0,y.jsxs)(d.Z.Header,{children:[(0,y.jsx)("h5",{className:"modal-title",children:"Delete User Confirmation"}),(0,y.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:pe,children:(0,y.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,y.jsx)(d.Z.Body,{children:(0,y.jsxs)("div",{className:"modal-body",children:[q&&(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",children:q}),(0,y.jsx)("h5",{style:{color:"red"},children:"Are you sure you want to delete the following user?"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("b",{children:"User Name:"})," ".concat(null!==G&&void 0!==G&&G.firstName?null===G||void 0===G?void 0:G.firstName:""," ").concat(null!==G&&void 0!==G&&G.lastName?null===G||void 0===G?void 0:G.lastName:"")]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("b",{children:"User Email:"})," ".concat(null===G||void 0===G?void 0:G.email)]})]})}),(0,y.jsxs)(d.Z.Footer,{children:[(0,y.jsxs)("button",{className:"btn btn-danger submit-btn",disabled:b,onClick:function(){xe(G.userId)},children:[b?"":"Delete",b&&(0,y.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]}),(0,y.jsx)("button",{className:"btn btn-secondary submit-btn",onClick:pe,children:"Close"})]})]})]})};var b=function(){return(0,y.jsx)(N,{})}},5462:function(e,t,n){n.d(t,{Lk:function(){return r},Zp:function(){return o},Tf:function(){return c},OE:function(){return u},jU:function(){return f},dt:function(){return h},JB:function(){return x},KD:function(){return g}});var a=n(1186),r={getAttachmentById:function(e){var t="".concat("https://ymp-api.herokuapp.com","/api/v1/attachment/").concat(e);return(0,a.o7)({url:t,method:"get"})}},i="".concat("https://ymp-api.herokuapp.com","/api/v1/city"),o={getAllCities:function(){var e=i;return(0,a.Xv)({url:e,method:"get"})},getCityByID:function(e){var t="".concat(i,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createCity:function(e){var t=i;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateCity:function(e,t){var n="".concat(i,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteCity:function(e){var t="".concat(i,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},s="".concat("https://ymp-api.herokuapp.com","/api/v1/country"),c={getAllCountries:function(){var e=s;return(0,a.Xv)({url:e,method:"get"})},getCountryByID:function(e){var t="".concat(s,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createCountry:function(e){var t=s;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateCountry:function(e,t){var n="".concat(s,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteCountry:function(e){var t="".concat(s,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},l=n(1413),d="".concat("https://ymp-api.herokuapp.com","/api/v1/doctor"),u={getAllDoctors:function(e,t){var n="".concat(d,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getDoctorByID:function(e){var t="".concat(d,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createDoctor:function(e){var t=d;return(0,a.Xv)({url:t,method:"post",requestBody:(0,l.Z)({},e)})},updateDoctor:function(e,t){var n="".concat(d,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,l.Z)({},t)})},deleteDoctor:function(e){var t="".concat(d,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},m="".concat("https://ymp-api.herokuapp.com","/api/v1/facility"),f={getAllFacilities:function(){var e=m;return(0,a.Xv)({url:e,method:"get"})},getFacilityByID:function(e){var t="".concat(m,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createFacility:function(e){var t=m;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateFacility:function(e,t){var n="".concat(m,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteFacility:function(e){var t="".concat(m,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},v="".concat("https://ymp-api.herokuapp.com","/api/v1/speciality"),h={getAllSpecialitiesWithPagination:function(e,t){var n="".concat(v,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getAllSpecialities:function(){var e="".concat(v);return(0,a.Xv)({url:e,method:"get"})},getSpecialityByID:function(e){var t="".concat(v,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createSpeciality:function(e){var t=v;return(0,a.Xv)({url:t,method:"post",requestBody:(0,l.Z)({},e)})},updateSpeciality:function(e,t){var n="".concat(v,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,l.Z)({},t)})},deleteSpeciality:function(e){var t="".concat(v,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},p="".concat("https://ymp-api.herokuapp.com","/api/v1/treatment"),x={getAllTreatments:function(){var e=p;return(0,a.Xv)({url:e,method:"get"})},getTreatmentByID:function(e){var t="".concat(p,"/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createTreatment:function(e){var t=p;return(0,a.Xv)({url:t,method:"post",requestBody:e})},updateTreatment:function(e,t){var n="".concat(p,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:t})},deleteTreatment:function(e){var t="".concat(p,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})}},y="".concat("https://ymp-api.herokuapp.com","/api/v1/user"),g={getAllUsers:function(e,t){var n="".concat(y,"?page=").concat(e,"&size=").concat(t);return(0,a.Xv)({url:n,method:"get"})},getUserByID:function(e){var t="".concat(y,"/id/").concat(e);return(0,a.Xv)({url:t,method:"get"})},createUser:function(e){var t=y;return(0,a.Xv)({url:t,method:"post",requestBody:(0,l.Z)({},e)})},updateUser:function(e,t){var n="".concat(y,"/").concat(e);return(0,a.Xv)({url:n,method:"put",requestBody:(0,l.Z)({},t)})},deleteUser:function(e){var t="".concat(y,"/").concat(e);return(0,a.Xv)({url:t,method:"delete"})},getUserByEmail:function(e){var t="".concat(y,"/email/").concat(e);return(0,a.Xv)({url:t,method:"get"})}}},9406:function(e,t,n){n.d(t,{g:function(){return y},Z:function(){return g}});var a=n(5861),r=n(9439),i=n(4687),o=n.n(i),s=n(5263),c=n(2705),l=n(1186),d=n(2426),u=n.n(d),m=n(2791),f=n(3168),v=n(3504),h=n(6871),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{path:"/en/account-profile",icon:"fas fa-user-cog",label:e("ProfileSettings"),role:"all"},{path:"/en/account-appointments",icon:"fas fa-calendar-alt",label:e("Appointments"),role:"ROLE_ADMIN"},{path:"/en/admin/specialities",icon:"fas fa-stethoscope",label:e("Specialities"),role:"ROLE_ADMIN"},{path:"/en/admin/Doctors",icon:"fas fa-users",label:e("Doctors"),role:"ROLE_ADMIN"},{path:"/en/admin/Users",icon:"fas fa-users",label:e("Users"),role:"ROLE_ADMIN"},{path:"/en/admin/Countries",icon:"fas fa-gear",label:e("Countries"),role:"ROLE_ADMIN"},{path:"/en/admin/Cities",icon:"fas fa-gear",label:e("Cities"),role:"ROLE_ADMIN"},{path:"/en/admin/Facilities",icon:"fas fa-gear",label:e("Facilities"),role:"ROLE_ADMIN"},{path:"/en/admin/Treatments",icon:"fas fa-gear",label:e("Treatments"),role:"ROLE_ADMIN"},{path:"/en/account-change-password",icon:"fas fa-lock",label:e("ChangePassword"),role:"all"},{path:"/",icon:"fas fa-lock",label:e("logout"),role:"all",onClick:t.logout}]},x=n(184),y=function(){var e=(0,f.$)(),t=(0,r.Z)(e,2),n=t[0],i=(t[1],window.location.pathname),d=(0,m.useState)(null),y=(0,r.Z)(d,2),g=y[0],j=y[1],N=(0,h.s0)(),b=(0,m.useState)(),C=(0,r.Z)(b,2),O=(C[0],C[1]);(0,m.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.KD.getCurrentUser();case 3:t=e.sent,j(null===t||void 0===t?void 0:t.body),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching current user:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Z={logout:function(){console.log("Logging out..."),c.e8.logout(),O(!1),N("/")}};return(0,x.jsxs)("div",{className:"profile-sidebar",children:[(0,x.jsx)("div",{className:"widget-profile pro-widget-content",children:(0,x.jsxs)("div",{className:"profile-info-widget",children:[(0,x.jsx)("a",{href:"#0",className:"booking-doc-img",children:(0,x.jsx)("img",{src:s,alt:"User"})}),(0,x.jsxs)("div",{className:"profile-det-info",children:[(0,x.jsx)("h3",{children:null===g||void 0===g?void 0:g.email}),(0,x.jsxs)("div",{className:"patient-details",children:[(0,x.jsxs)("h5",{children:[(0,x.jsx)("i",{className:"fas fa-birthday-cake"})," ",(null===g||void 0===g?void 0:g.dateOfBirth)&&u()(null===g||void 0===g?void 0:g.dateOfBirth).format("DD MMM YYYY"),","," ",(null===g||void 0===g?void 0:g.dateOfBirth)&&u()(null===g||void 0===g?void 0:g.dateOfBirth,"YYYY-MM-DD").month(0).from(u()().month(0))]}),(0,x.jsxs)("h5",{className:"mb-0",children:[(0,x.jsx)("i",{className:"fas fa-map-marker-alt"}),(null===g||void 0===g?void 0:g.cityOfResidence)&&(null===g||void 0===g?void 0:g.cityOfResidence),","," ",(null===g||void 0===g?void 0:g.countryOfResidence)&&l.mQ.getCountryOfCode(null===g||void 0===g?void 0:g.countryOfResidence).name]})]})]})]})}),(0,x.jsx)("div",{className:"dashboard-widget",children:(0,x.jsx)("nav",{className:"dashboard-menu",children:(0,x.jsx)("ul",{children:p(n,Z).map((function(e,t){var n;return"all"===e.role||(null===g||void 0===g||null===(n=g.roles)||void 0===n?void 0:n.some((function(e){return"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.name)})))&&"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.role)?(0,x.jsx)("li",{className:i.includes(e.path)?"active":"",children:(0,x.jsxs)(v.rU,{to:e.path,onClick:function(t){e.onClick&&(t.preventDefault(),e.onClick())},children:[(0,x.jsx)("i",{className:e.icon}),(0,x.jsx)("span",{children:e.label})]})},t):null}))})})})]})},g=y}}]);
//# sourceMappingURL=883.3b8afa2e.chunk.js.map