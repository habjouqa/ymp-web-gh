"use strict";(self.webpackChunkymp_react=self.webpackChunkymp_react||[]).push([[949],{780:function(e,n,r){r.r(n);var a=r(1413),i=r(5861),t=r(9439),o=r(4687),s=r.n(o),l=r(2791),c=r(3168),d=r(6592),u=r(5078),m=r(6580),f=r(9513),h=r.n(f),v=r(9314),p=r(8527),x=r(3109),j=r(9406),g=r(2705),N=r(6491),b=r(1186),y=(r(7781),r(184));n.default=function(e){var n=(0,c.$)(),r=(0,t.Z)(n,2),o=r[0],f=(r[1],(0,l.useState)(!1)),C=(0,t.Z)(f,2),Z=C[0],O=C[1],k=(0,l.useState)(!0),w=(0,t.Z)(k,2),S=w[0],R=w[1],P=(0,l.useState)(null),D=(0,t.Z)(P,2),M=D[0],F=D[1],I=(0,l.useState)(),E=(0,t.Z)(I,2),L=E[0],_=E[1],B=(0,l.useState)(!1),A=(0,t.Z)(B,2),U=A[0],Y=A[1],z=(0,l.useState)("JO"),V=(0,t.Z)(z,2),T=V[0],J=V[1];(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.KD.getCurrentUser();case 2:r=e.sent,console.log("Profile :: useEffect :: response?.body: ".concat(JSON.stringify(r))),F(null===r||void 0===r?void 0:r.body),J(null===r||void 0===r||null===(n=r.body)||void 0===n?void 0:n.countryOfResidence),R(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var K=function(){var e=(0,i.Z)(s().mark((function e(n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!1),console.log("onSubmit :: ".concat(JSON.stringify(n,0,2))),O(!0),r={firstName:n.firstName,lastName:n.lastName,dateOfBirth:n.dateOfBirth,phone:n.phone,gender:n.gender,nationality:n.nationality,countryOfResidence:n.countryOfResidence,cityOfResidence:n.cityOfResidence},e.next=6,g.KD.updateUser(r);case 6:if(a=e.sent,O(!1),a.success||a.success){e.next=11;break}return _(!!a.message&&a.message),e.abrupt("return");case 11:F(null===a||void 0===a?void 0:a.body),Y(!0);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,i.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},n.firstName||(r.firstName=b.C1),n.lastName||(r.lastName=b.C1),n.email?n.email.toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||(r.email="Invalid Email format!"):r.email=b.C1,n.phone||(r.phone=b.C1),n.gender||(r.gender=b.C1),n.dateOfBirth||(r.dateOfBirth=b.C1),n.nationality||(r.nationality=b.C1),n.countryOfResidence||(r.countryOfResidence=b.C1),n.cityOfResidence||(r.cityOfResidence=b.C1),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$=(0,l.useMemo)((function(){return b.mQ.getCountriesList()}),[]),G=function(e){var n=e.name,r=(e.input,e.input),a=r.value,i=r.onChange;return(0,y.jsx)(h(),{selected:a&&(0,v.default)(a)?(0,p.default)(a):null,className:"form-control floating datetimepicker",maxDate:new Date,showYearDropdown:!0,yearItemNumber:7,name:n,onChange:function(e){return i(e)}})},W=function(e){var n=e.input,r=e.placeholder;return(0,y.jsx)(x.ZP,(0,a.Z)((0,a.Z)({},n),{},{Style:"border:0px;",className:"form-control",placeholder:r}))},q=(0,y.jsx)(u.l0,{validate:Q,onSubmit:K,initialValues:{firstName:null===M||void 0===M?void 0:M.firstName,lastName:null===M||void 0===M?void 0:M.lastName,dateOfBirth:(null===M||void 0===M?void 0:M.dateOfBirth)&&new Date(null===M||void 0===M?void 0:M.dateOfBirth),email:null===M||void 0===M?void 0:M.email,phone:null===M||void 0===M?void 0:M.phone,gender:null===M||void 0===M?void 0:M.gender,nationality:null===M||void 0===M?void 0:M.nationality,countryOfResidence:null===M||void 0===M?void 0:M.countryOfResidence,cityOfResidence:null===M||void 0===M?void 0:M.cityOfResidence},render:function(e){var n=e.handleSubmit,r=(e.onChange,e.submitError,e.form,e.submitting,e.pristine,e.values);return(0,y.jsxs)("form",{onSubmit:n,className:"needs-validation",noValidate:!0,children:[null===L||void 0===L?void 0:L.map((function(e,n){return(0,y.jsx)("div",{className:"invalid-feedback d-block mb-2",children:e},n)})),(0,y.jsxs)("div",{className:"row form-row",children:[(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.FirstName")}),(0,y.jsx)(u.gN,{name:"firstName",className:"form-control floating",type:"text",component:N.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.LastName")}),(0,y.jsx)(u.gN,{name:"lastName",className:"form-control floating",type:"text",component:N.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.DateOfBirth")}),(0,y.jsx)("div",{className:"",children:(0,y.jsx)(u.gN,{name:"dateOfBirth",component:G,hideerror:"true",dateFormat:"yyyy-MM-dd"})})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.EmailID")}),(0,y.jsx)(u.gN,{name:"email",className:"form-control floating",type:"email",component:N.UP})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.Mobile")}),(0,y.jsx)(u.gN,{name:"phone",defaultCountry:"TR",international:!0,placeholder:"Enter phone number",component:W}),(0,y.jsx)(N.jj,{name:"phone",showerrorbeside:"true"})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.Gender")}),(0,y.jsxs)("div",{className:"col-md-10",children:[(0,y.jsxs)("div",{className:"radio",children:[(0,y.jsx)(u.gN,{id:"male_radio",name:"gender",value:"Male",type:"radio",component:N.UP,hideerror:"true"}),(0,y.jsx)("label",{htmlFor:"male_radio",children:o("ProfileForm.Male")})]}),(0,y.jsxs)("div",{className:"radio",children:[(0,y.jsx)(u.gN,{id:"male_radio",name:"gender",value:"Female",type:"radio",component:N.UP,hideerror:"true"}),(0,y.jsx)("label",{htmlFor:"female_radio",children:o("ProfileForm.Female")})]}),(0,y.jsx)(N.jj,{name:"gender",showerrorbeside:"true"})]})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.Nationality")}),(0,y.jsx)(u.gN,{name:"nationality",showerrorbeside:"true",children:function(e){var n=e.input;e.meta;return(0,y.jsxs)("select",(0,a.Z)((0,a.Z)({className:"form-control select",defaultValue:r.nationality},n.select),{},{onChange:function(e){n.onChange(e)},children:[(0,y.jsx)("option",{value:"",children:o("ProfileForm.SelectNationality")}),$.map((function(e,n){return(0,y.jsx)("option",{value:e.isoCode,children:e.name},n)}))]}))}}),(0,y.jsx)(N.jj,{name:"nationality",showerrorbeside:"true"})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.Country")}),(0,y.jsx)(u.gN,{name:"countryOfResidence",showerrorbeside:"true",children:function(e){var n=e.input;e.meta;return(0,y.jsxs)("select",(0,a.Z)((0,a.Z)({className:"form-control select",defaultValue:r.countryOfResidence},n.select),{},{onChange:function(e){n.onChange(e),J(e.target.value)},children:[(0,y.jsx)("option",{value:"",children:o("ProfileForm.SelectCountry")}),$.map((function(e,n){return(0,y.jsx)("option",{value:e.isoCode,children:e.name},n)}))]}))}}),(0,y.jsx)(N.jj,{name:"countryOfResidence",showerrorbeside:"true"})]})}),(0,y.jsx)("div",{className:"col-12 col-md-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:o("ProfileForm.City")}),(0,y.jsx)(u.gN,{name:"cityOfResidence",showerrorbeside:"true",children:function(e){var n=e.input;e.meta;return(0,y.jsxs)("select",(0,a.Z)((0,a.Z)({className:"form-control select",defaultValue:r.cityOfResidence},n.select),{},{onChange:function(e){n.onChange(e)},children:[(0,y.jsx)("option",{value:"",children:o("ProfileForm.SelectCity")}),b.mQ.getCitiesOfCountry(T).map((function(e,n){return(0,y.jsx)("option",{value:e.name,children:e.name},n)}))]}))}}),(0,y.jsx)(N.jj,{name:"cityOfResidence",showerrorbeside:"true"})]})})]}),(0,y.jsx)("div",{className:"submit-section",children:(0,y.jsxs)("button",{type:"submit",className:"btn btn-primary submit-btn",disabled:Z,children:[Z?"":o("ProfileForm.SaveChanges"),Z&&(0,y.jsx)("span",{className:"spinner-border spinner-border-sm mb-1"})]})})]})}});return(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"content",children:(0,y.jsx)("div",{className:"container-fluid",children:(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-5 col-lg-4 col-xl-3 theiaStickySidebar",children:(0,y.jsx)(d.Z,{offsetTop:20,offsetBottom:20,children:(0,y.jsx)(j.Z,{setIsLoggedIn:e.setIsLoggedIn()})})}),(0,y.jsx)("div",{className:"col-md-7 col-lg-8 col-xl-9",children:(0,y.jsx)("div",{className:"card",children:(0,y.jsxs)("div",{className:"card-body",children:[U?(0,y.jsx)(N.at,{type:"success",boldMsg:"Success!",msg:"User have been updated successfully!"}):"",S?(0,y.jsx)("div",{className:"centered",children:(0,y.jsx)(m.Z,{})}):q]})})})]})})})})}},9406:function(e,n,r){r.d(n,{g:function(){return j},Z:function(){return g}});var a=r(5861),i=r(9439),t=r(4687),o=r.n(t),s=r(5263),l=r(2705),c=r(1186),d=r(2426),u=r.n(d),m=r(2791),f=r(3168),h=r(3504),v=r(6871),p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{path:"/en/account-profile",icon:"fas fa-user-cog",label:e("ProfileSettings"),role:"all"},{path:"/en/account-appointments",icon:"fas fa-calendar-alt",label:e("Appointments"),role:"ROLE_ADMIN"},{path:"/en/admin/specialities",icon:"fas fa-stethoscope",label:e("Specialities"),role:"ROLE_ADMIN"},{path:"/en/admin/Doctors",icon:"fas fa-users",label:e("Doctors"),role:"ROLE_ADMIN"},{path:"/en/admin/Users",icon:"fas fa-users",label:e("Users"),role:"ROLE_ADMIN"},{path:"/en/admin/Countries",icon:"fas fa-gear",label:e("Countries"),role:"ROLE_ADMIN"},{path:"/en/admin/Cities",icon:"fas fa-gear",label:e("Cities"),role:"ROLE_ADMIN"},{path:"/en/admin/Facilities",icon:"fas fa-gear",label:e("Facilities"),role:"ROLE_ADMIN"},{path:"/en/admin/Treatments",icon:"fas fa-gear",label:e("Treatments"),role:"ROLE_ADMIN"},{path:"/en/account-change-password",icon:"fas fa-lock",label:e("ChangePassword"),role:"all"},{path:"/",icon:"fas fa-lock",label:e("logout"),role:"all",onClick:n.logout}]},x=r(184),j=function(){var e=(0,f.$)(),n=(0,i.Z)(e,2),r=n[0],t=(n[1],window.location.pathname),d=(0,m.useState)(null),j=(0,i.Z)(d,2),g=j[0],N=j[1],b=(0,v.s0)(),y=(0,m.useState)(),C=(0,i.Z)(y,2),Z=(C[0],C[1]);(0,m.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.KD.getCurrentUser();case 3:n=e.sent,N(null===n||void 0===n?void 0:n.body),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error fetching current user:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var O={logout:function(){console.log("Logging out..."),l.e8.logout(),Z(!1),b("/")}};return(0,x.jsxs)("div",{className:"profile-sidebar",children:[(0,x.jsx)("div",{className:"widget-profile pro-widget-content",children:(0,x.jsxs)("div",{className:"profile-info-widget",children:[(0,x.jsx)("a",{href:"#0",className:"booking-doc-img",children:(0,x.jsx)("img",{src:s,alt:"User"})}),(0,x.jsxs)("div",{className:"profile-det-info",children:[(0,x.jsx)("h3",{children:null===g||void 0===g?void 0:g.email}),(0,x.jsxs)("div",{className:"patient-details",children:[(0,x.jsxs)("h5",{children:[(0,x.jsx)("i",{className:"fas fa-birthday-cake"})," ",(null===g||void 0===g?void 0:g.dateOfBirth)&&u()(null===g||void 0===g?void 0:g.dateOfBirth).format("DD MMM YYYY"),","," ",(null===g||void 0===g?void 0:g.dateOfBirth)&&u()(null===g||void 0===g?void 0:g.dateOfBirth,"YYYY-MM-DD").month(0).from(u()().month(0))]}),(0,x.jsxs)("h5",{className:"mb-0",children:[(0,x.jsx)("i",{className:"fas fa-map-marker-alt"}),(null===g||void 0===g?void 0:g.cityOfResidence)&&(null===g||void 0===g?void 0:g.cityOfResidence),","," ",(null===g||void 0===g?void 0:g.countryOfResidence)&&c.mQ.getCountryOfCode(null===g||void 0===g?void 0:g.countryOfResidence).name]})]})]})]})}),(0,x.jsx)("div",{className:"dashboard-widget",children:(0,x.jsx)("nav",{className:"dashboard-menu",children:(0,x.jsx)("ul",{children:p(r,O).map((function(e,n){var r;return"all"===e.role||(null===g||void 0===g||null===(r=g.roles)||void 0===r?void 0:r.some((function(e){return"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.name)})))&&"ROLE_ADMIN"===(null===e||void 0===e?void 0:e.role)?(0,x.jsx)("li",{className:t.includes(e.path)?"active":"",children:(0,x.jsxs)(h.rU,{to:e.path,onClick:function(n){e.onClick&&(n.preventDefault(),e.onClick())},children:[(0,x.jsx)("i",{className:e.icon}),(0,x.jsx)("span",{children:e.label})]})},n):null}))})})})]})},g=j},6580:function(e,n,r){r.d(n,{Z:function(){return M}});var a=r(168),i=r(3366),t=r(7462),o=r(2791),s=r(8182),l=r(4419),c=r(2554),d=r(9853),u=r(171),m=r(1659),f=r(5878),h=r(1217);function v(e){return(0,h.ZP)("MuiCircularProgress",e)}(0,f.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var p,x,j,g,N,b,y,C,Z=r(184),O=["className","color","disableShrink","size","style","thickness","value","variant"],k=44,w=(0,c.F4)(N||(N=p||(p=(0,a.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),S=(0,c.F4)(b||(b=x||(x=(0,a.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),R=(0,m.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,n[r.variant],n["color".concat((0,d.Z)(r.color))]]}})((function(e){var n=e.ownerState,r=e.theme;return(0,t.Z)({display:"inline-block"},"determinate"===n.variant&&{transition:r.transitions.create("transform")},"inherit"!==n.color&&{color:(r.vars||r).palette[n.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,c.iv)(y||(y=j||(j=(0,a.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),w)})),P=(0,m.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,n){return n.svg}})({display:"block"}),D=(0,m.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,n){var r=e.ownerState;return[n.circle,n["circle".concat((0,d.Z)(r.variant))],r.disableShrink&&n.circleDisableShrink]}})((function(e){var n=e.ownerState,r=e.theme;return(0,t.Z)({stroke:"currentColor"},"determinate"===n.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===n.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var n=e.ownerState;return"indeterminate"===n.variant&&!n.disableShrink&&(0,c.iv)(C||(C=g||(g=(0,a.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),S)})),M=o.forwardRef((function(e,n){var r=(0,u.Z)({props:e,name:"MuiCircularProgress"}),a=r.className,o=r.color,c=void 0===o?"primary":o,m=r.disableShrink,f=void 0!==m&&m,h=r.size,p=void 0===h?40:h,x=r.style,j=r.thickness,g=void 0===j?3.6:j,N=r.value,b=void 0===N?0:N,y=r.variant,C=void 0===y?"indeterminate":y,w=(0,i.Z)(r,O),S=(0,t.Z)({},r,{color:c,disableShrink:f,size:p,thickness:g,value:b,variant:C}),M=function(e){var n=e.classes,r=e.variant,a=e.color,i=e.disableShrink,t={root:["root",r,"color".concat((0,d.Z)(a))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(r)),i&&"circleDisableShrink"]};return(0,l.Z)(t,v,n)}(S),F={},I={},E={};if("determinate"===C){var L=2*Math.PI*((k-g)/2);F.strokeDasharray=L.toFixed(3),E["aria-valuenow"]=Math.round(b),F.strokeDashoffset="".concat(((100-b)/100*L).toFixed(3),"px"),I.transform="rotate(-90deg)"}return(0,Z.jsx)(R,(0,t.Z)({className:(0,s.Z)(M.root,a),style:(0,t.Z)({width:p,height:p},I,x),ownerState:S,ref:n,role:"progressbar"},E,w,{children:(0,Z.jsx)(P,{className:M.svg,ownerState:S,viewBox:"".concat(22," ").concat(22," ").concat(k," ").concat(k),children:(0,Z.jsx)(D,{className:M.circle,style:F,ownerState:S,cx:k,cy:k,r:(k-g)/2,fill:"none",strokeWidth:g})})}))}))}}]);
//# sourceMappingURL=949.096d6cc1.chunk.js.map